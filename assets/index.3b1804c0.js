var Me=Object.defineProperty,Le=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var Vt=(o,e,t)=>e in o?Me(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,P=(o,e)=>{for(var t in e||(e={}))oe.call(e,t)&&Vt(o,t,e[t]);if(bt)for(var t of bt(e))se.call(e,t)&&Vt(o,t,e[t]);return o},S=(o,e)=>Le(o,Ie(e));var M=(o,e)=>{var t={};for(var s in o)oe.call(o,s)&&e.indexOf(s)<0&&(t[s]=o[s]);if(o!=null&&bt)for(var s of bt(o))e.indexOf(s)<0&&se.call(o,s)&&(t[s]=o[s]);return t};var R=(o,e,t)=>(Vt(o,typeof e!="symbol"?e+"":e,t),t);import{j as i,T as Te,t as Ve,a as h,u as L,b as ne,R as C,c as A,d as g,e as p,F,S as Be,f as ot,g as st,h as Bt,i as Oe,k as ae,l as De,m as Ze}from"./vendor.a9d3d864.js";const Fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};Fe();function Ue(){}function $e(o){return!!(o&&typeof o!="function")}function He(o){return o?$e(o)?e=>{o.current=e}:o:Ue}function je(...o){const e=o.map(t=>He(t));return t=>{e.forEach(s=>s(t))}}function Ge(){return i("div",{className:"toaser",children:i(Te,{position:"bottom-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})})}const ie=(o,e)=>Ve(o,P({style:{backgroundColor:"tomato"}},e));function le(o){console.log(`%c${o}`,"color: orange"),ie(o)}function Ot(o){console.log(`%c${o}`,"color: pink"),ie(o)}function E(o,e){const t=h(o);return h(n=>n(t),(n,a,r)=>{const l=typeof r=="function"?r(n(t)):r;a(t,l),e({get:n,set:a,nextValue:l})})}const We=/^[\t\n\f\r ]*([MLHVZCSQTAmlhvzcsqta])[\t\n\f\r ]*/,re=/^[01]/,Dt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,k=Dt,Ye=/^(([\t\n\f\r ]+,?[\t\n\f\r ]*)|(,[\t\n\f\r ]*))/,ze={M:[k,k],L:[k,k],H:[k],V:[k],Z:[],C:[k,k,k,k,k,k],S:[k,k,k,k],Q:[k,k,k,k],T:[k,k],A:[Dt,Dt,k,re,re,k,k]};class Zt{static components(e,t,s){const n=ze[e.toUpperCase()],a=[];for(;s<=t.length;){const r=[e];for(const l of n){const c=t.slice(s).match(l);if(c!==null){r.push(c[0]),s+=c[0].length;const u=t.slice(s).match(Ye);u!==null&&(s+=u[0].length)}else{if(r.length===1)return[s,a];throw new Error("malformed path (first error at "+s+")")}}if(a.push(r),n.length===0)return[s,a];e==="m"&&(e="l"),e==="M"&&(e="L")}throw new Error("malformed path (first error at "+s+")")}static parse(e){let t=0,s=[];for(;t<e.length;){const n=e.slice(t).match(We);if(n!==null){const a=n[1];t+=n[0].length;const r=Zt.components(a,e,t);t=r[0],s=[...s,...r[1]]}else throw new Error("malformed path (first error at "+t+")")}return s}}let Xe=1;function Ft(){return`${Xe++}`.padStart(7," ")}function _(o,e,t=!1){let s=o.toFixed(e).replace(/^(-?[0-9]*\.([0-9]*[1-9])?)0*$/,"$1").replace(/\.$/,"");return t&&(s=s.replace(/^(-?)0\./,"$1.")),s}class N{constructor(e,t){this.x=e,this.y=t}}class $ extends N{constructor(e,t,s=!0){super(e,t);R(this,"itemReference",new _e);R(this,"movable",!0);R(this,"id",Ft());this.movable=s}}class H extends ${constructor(e,t,s=!0){super(e.x,e.y,s);R(this,"subIndex",0);this.relations=t}}class I{constructor(e,t){R(this,"relative");R(this,"values");R(this,"previousPoint",new N(0,0));R(this,"absolutePoints",[]);R(this,"absoluteControlPoints",[]);R(this,"id",Ft());this.values=e,this.relative=t}static Make(e){let t;const s=e[0].toUpperCase()!==e[0],n=e.slice(1).map(a=>parseFloat(a));switch(e[0].toUpperCase()){case q.key:t=new q(n,s);break;case nt.key:t=new nt(n,s);break;case at.key:t=new at(n,s);break;case it.key:t=new it(n,s);break;case Q.key:t=new Q(n,s);break;case j.key:t=new j(n,s);break;case G.key:t=new G(n,s);break;case W.key:t=new W(n,s);break;case Y.key:t=new Y(n,s);break;case lt.key:t=new lt(n,s);break}if(!t)throw"Invalid SVG item";return t}static MakeFrom(e,t,s){const n=e.targetLocation(),a=n.x.toString(),r=n.y.toString();let l=[];const c=s.toUpperCase();switch(c){case q.key:l=[q.key,a,r];break;case nt.key:l=[nt.key,a,r];break;case at.key:l=[at.key,a];break;case it.key:l=[it.key,r];break;case Q.key:l=[Q.key];break;case j.key:l=[j.key,"0","0","0","0",a,r];break;case G.key:l=[G.key,"0","0",a,r];break;case W.key:l=[W.key,"0","0",a,r];break;case Y.key:l=[Y.key,a,r];break;case lt.key:l=[lt.key,"1","1","0","0","0",a,r];break}const u=I.Make(l),d=e.absoluteControlPoints;return u.previousPoint=t.targetLocation(),u.absolutePoints=[n],u.resetControlPoints(t),(e instanceof j||e instanceof G)&&(u instanceof j||u instanceof G)&&(u instanceof j&&(u.values[0]=d[0].x,u.values[1]=d[0].y,u.values[2]=d[1].x,u.values[3]=d[1].y),u instanceof G&&(u.values[0]=d[1].x,u.values[1]=d[1].y)),(e instanceof W||e instanceof Y)&&u instanceof W&&(u.values[0]=d[0].x,u.values[1]=d[0].y),s!==c&&u.setRelative(!0),u}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new N(0,0),this.absolutePoints=[];let s=t?t.targetLocation():new N(0,0);this.relative||(s=new N(0,0));for(let n=0;n<this.values.length-1;n+=2)this.absolutePoints.push(new $(s.x+this.values[n],s.y+this.values[n+1]))}setRelative(e){this.relative!==e&&(this.relative=!1,e?(this.translate(-this.previousPoint.x,-this.previousPoint.y),this.relative=!0):this.translate(this.previousPoint.x,this.previousPoint.y))}refreshAbsoluteControlPoints(e,t){this.absoluteControlPoints=[]}resetControlPoints(e){}translate(e,t,s=!1){(!this.relative||s)&&this.values.forEach((n,a)=>{this.values[a]=n+(a%2==0?e:t)})}scale(e,t){this.values.forEach((s,n)=>{this.values[n]=s*(n%2==0?e:t)})}targetLocation(){const e=this.absolutePoints.length;return this.absolutePoints[e-1]}setTargetLocation(e){const t=this.targetLocation(),s=e.x-t.x,n=e.y-t.y,a=this.values.length;this.values[a-2]+=s,this.values[a-1]+=n}setControlLocation(e,t){const s=this.absolutePoints[e],n=t.x-s.x,a=t.y-s.y;this.values[2*e]+=n,this.values[2*e+1]+=a}controlLocations(){return this.absoluteControlPoints}getType(){let e=this.constructor.key;return this.relative&&(e=e.toLowerCase()),e}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,this.getType(),...this.values].join(" ")}asString(e=4,t=!1,s=[]){const n=[this.values,...s.map(a=>a.values)].reduce((a,r)=>a.concat(r),[]).map(a=>_(a,e,t));return[this.getType(),...n].join(" ")}}class _e extends I{constructor(){super([],!1)}}class q extends I{}R(q,"key","M");class nt extends I{}R(nt,"key","L");class j extends I{refreshAbsoluteControlPoints(e,t){if(!t)throw"Invalid path";this.absoluteControlPoints=[new H(this.absolutePoints[0],[t.targetLocation()]),new H(this.absolutePoints[1],[this.targetLocation()])]}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new N(0,0);this.values[0]=2*t.x/3+s.x/3-n.x,this.values[1]=2*t.y/3+s.y/3-n.y,this.values[2]=t.x/3+2*s.x/3-n.x,this.values[3]=t.y/3+2*s.y/3-n.y}}R(j,"key","C");const te=class extends I{refreshAbsoluteControlPoints(e,t){if(this.absoluteControlPoints=[],t instanceof j||t instanceof te){const s=t.targetLocation(),n=t.absoluteControlPoints[1],a=new N(2*s.x-n.x,2*s.y-n.y);this.absoluteControlPoints.push(new H(a,[s],!1))}else{const s=t?t.targetLocation():new N(0,0),n=new N(s.x,s.y);this.absoluteControlPoints.push(new H(n,[],!1))}this.absoluteControlPoints.push(new H(this.absolutePoints[0],[this.targetLocation()]))}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,"C",this.absoluteControlPoints[0].x,this.absoluteControlPoints[0].y,this.absoluteControlPoints[1].x,this.absoluteControlPoints[1].y,this.absolutePoints[1].x,this.absolutePoints[1].y].join(" ")}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new N(0,0);this.values[0]=t.x/3+2*s.x/3-n.x,this.values[1]=t.y/3+2*s.y/3-n.y}setControlLocation(e,t){const s=this.absoluteControlPoints[1],n=t.x-s.x,a=t.y-s.y;this.values[0]+=n,this.values[1]+=a}};let G=te;R(G,"key","S");class W extends I{refreshAbsoluteControlPoints(e,t){if(!t)throw"Invalid path";this.absoluteControlPoints=[new H(this.absolutePoints[0],[t.targetLocation(),this.targetLocation()])]}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new N(0,0);this.values[0]=t.x/2+s.x/2-n.x,this.values[1]=t.y/2+s.y/2-n.y}}R(W,"key","Q");const ee=class extends I{refreshAbsoluteControlPoints(e,t){if(t instanceof W||t instanceof ee){const s=t.targetLocation(),n=t.absoluteControlPoints[0],a=new N(2*s.x-n.x,2*s.y-n.y);this.absoluteControlPoints=[new H(a,[s,this.targetLocation()],!1)]}else{const s=t?t.targetLocation():new N(0,0),n=new N(s.x,s.y);this.absoluteControlPoints=[new H(n,[],!1)]}}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,"Q",this.absoluteControlPoints[0].x,this.absoluteControlPoints[0].y,this.absolutePoints[0].x,this.absolutePoints[0].y].join(" ")}};let Y=ee;R(Y,"key","T");class Q extends I{refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new N(0,0),this.absolutePoints=[new $(e.x,e.y,!1)]}}R(Q,"key","Z");class at extends I{refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new N(0,0),this.relative?this.absolutePoints=[new $(this.values[0]+this.previousPoint.x,this.previousPoint.y)]:this.absolutePoints=[new $(this.values[0],this.previousPoint.y)]}setTargetLocation(e){const t=this.targetLocation(),s=e.x-t.x;this.values[0]+=s}}R(at,"key","H");class it extends I{translate(e,t,s=!1){this.relative||(this.values[0]+=t)}scale(e,t){this.values[0]*=t}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new N(0,0),this.relative?this.absolutePoints=[new $(this.previousPoint.x,this.values[0]+this.previousPoint.y)]:this.absolutePoints=[new $(this.previousPoint.x,this.values[0])]}setTargetLocation(e){const t=this.targetLocation(),s=e.y-t.y;this.values[0]+=s}}R(it,"key","V");class lt extends I{translate(e,t,s=!1){this.relative||(this.values[5]+=e,this.values[6]+=t)}scale(e,t){const s=this.values[0],n=this.values[1],a=Math.PI*this.values[2]/180,r=Math.cos(a),l=Math.sin(a),c=n*n*t*t*r*r+s*s*t*t*l*l,u=2*e*t*r*l*(n*n-s*s),d=s*s*e*e*r*r+n*n*e*e*l*l,v=-(s*s*n*n*e*e*t*t),b=u*u-4*c*d,f=Math.sqrt((c-d)*(c-d)+u*u);this.values[2]=u!==0?Math.atan((d-c-f)/u)*180/Math.PI:c<d?0:90,this.values[0]=-Math.sqrt(2*b*v*(c+d+f))/b,this.values[1]=-Math.sqrt(2*b*v*(c+d-f))/b,this.values[5]*=e,this.values[6]*=t,this.values[4]=e*t>=0?this.values[4]:1-this.values[4]}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new N(0,0),this.relative?this.absolutePoints=[new $(this.values[5]+this.previousPoint.x,this.values[6]+this.previousPoint.y)]:this.absolutePoints=[new $(this.values[5],this.values[6])]}asString(e=4,t=!1,s=[]){if(t){const n=[this.values,...s.map(a=>a.values)].map(a=>a.map(r=>_(r,e,t))).map(a=>`${a[0]} ${a[1]} ${a[2]} ${a[3]}${a[4]}${a[5]} ${a[6]}`);return[this.getType(),...n].join(" ")}else return super.asString(e,t,s)}}R(lt,"key","A");class ce{constructor(e){R(this,"path");const t=e?Zt.parse(e):[];this.path=t.map(s=>I.Make(s)),this.refreshAbsolutePositions()}translate(e,t){return this.path.forEach((s,n)=>{s.translate(e,t,n===0)}),this.refreshAbsolutePositions(),this}scale(e,t){return this.path.forEach(s=>{s.scale(e,t)}),this.refreshAbsolutePositions(),this}setRelative(e){return this.path.forEach(t=>{t.setRelative(e)}),this.refreshAbsolutePositions(),this}delete(e){const t=this.path.indexOf(e);return t!==-1&&(this.path.splice(t,1),this.refreshAbsolutePositions()),this}insert(e,t){const s=t?this.path.indexOf(t):-1;s!==-1?this.path.splice(s+1,0,e):this.path.push(e),this.refreshAbsolutePositions()}changeType(e,t){const s=this.path.indexOf(e);if(s>0){const n=this.path[s-1];return this.path[s]=I.MakeFrom(e,n,t),this.refreshAbsolutePositions(),this.path[s]}return null}asString(e=4,t=!1){return this.path.reduce((s,n)=>{const a=n.getType();if(t&&s.length>0){const r=s[s.length-1];if(r.type===a)return r.trailing.push(n),s}return s.push({type:a==="m"?"l":a==="M"?"L":a,item:n,trailing:[]}),s},[]).map(s=>{const n=s.item.asString(e,t,s.trailing);return t?n.replace(/^([a-z]) /i,"$1").replace(/ -/g,"-").replace(/(\.[0-9]+) (?=\.)/g,"$1"):n}).join(t?"":" ")}targetLocations(){return this.path.map(e=>e.targetLocation())}controlLocations(){let e=[];for(let t=1;t<this.path.length;++t){const s=this.path[t].controlLocations();s.forEach((n,a)=>{n.subIndex=a}),e=[...e,...s]}return e}setLocation(e,t){e instanceof H?e.itemReference.setControlLocation(e.subIndex,t):e.itemReference.setTargetLocation(t),this.refreshAbsolutePositions()}refreshAbsolutePositions(){let e=null,t=new N(0,0);for(const s of this.path)s.refreshAbsolutePoints(t,e),s.refreshAbsoluteControlPoints(t,e),s.absolutePoints.forEach(n=>n.itemReference=s),s.absoluteControlPoints.forEach(n=>n.itemReference=s),(s instanceof q||s instanceof Q)&&(t=s.targetLocation()),e=s}}const qe={M:["x","y"],m:["dx","dy"],L:["x","y"],l:["dx","dy"],V:["y"],v:["dy"],H:["x"],h:["dx"],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","x","y"],a:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","dx","dy"]};function ue(o,e){var t;return((t=qe[o])==null?void 0:t[e])||""}const Qe={M:[-1,-1],m:[-1,-1],L:[-1,-1],l:[-1,-1],V:[-1],v:[-1],H:[-1],h:[-1],C:[0,0,1,1,-1,-1],c:[0,0,1,1,-1,-1],S:[0,0,-1,-1],s:[0,0,-1,-1],Q:[0,0,-1,-1],q:[0,0,-1,-1],T:[-1,-1],t:[-1,-1],A:[0,0,-1,-1,-1,-1,-1],a:[0,0,-1,-1,-1,-1,-1]};function de(o,e){var t,s;return(s=(t=Qe[o])==null?void 0:t[e])!=null?s:-1}function gt(o){return o.constructor.key}function he(...o){console.log("%cneed check","color: red",...o)}const Ke=!1;function Je(o){let e=0,t=0,s=10,n=10;return o.length&&(e=Math.min(...o.map(a=>a.x)),t=Math.min(...o.map(a=>a.y)),s=Math.max(...o.map(a=>a.x)),n=Math.max(...o.map(a=>a.y))),{xmin:e,ymin:t,xmax:s,ymax:n}}function to(o,e,t){const[s,n,a,r]=o;t=t||{x:s+.5*a,y:n+.5*r};const l=s+(t.x-s-e*(t.x-s)),c=n+(t.y-n-e*(t.y-n)),u=e*a,d=e*r;return[l,c,u,d]}function Ut(o,e){return parseFloat((o/e).toPrecision(6))}function fe(o,e,t,s,n,a=!1,r=!1){if(!a&&r)return;if(!o.w||!o.h){he("updateViewPort");return}if(s===null&&n!==null&&(s=o.w*n/o.h),n===null&&s!==null&&(n=o.h*s/o.w),!s||!n)return;const l=[parseFloat((1*e).toPrecision(6)),parseFloat((1*t).toPrecision(6)),parseFloat((1*s).toPrecision(4)),parseFloat((1*n).toPrecision(4))];return{viewBox:l,stroke:Ut(l[2],o.w)}}function eo(o,e){if(!o.w||!o.h){he("getFitViewPort");return}const t=Je(e);let s=t.xmin-1,n=t.ymin-1,a=t.xmax-t.xmin+2,r=t.ymax-t.ymin+2;const l=o.h/o.w;l<r/a?a=r/l:r=l*a;const c=[parseFloat((1*s).toPrecision(6)),parseFloat((1*n).toPrecision(6)),parseFloat((1*a).toPrecision(4)),parseFloat((1*r).toPrecision(4))];return{size:{w:o.w,h:o.h},port:c,stroke:Ut(c[2],o.w)}}function oo(o,e=100){let t,s,n;return function(...a){n=this,s=a,!t&&(t=setTimeout(()=>{t=null,o.apply(n,s)},e))}}var y;(function(o){const e="react-svg-expo-01";o.initialData={path:"M 0 0 L 25 103 Q 52 128 63 93 C -2 26 29 0 100 0 C 83 15 85 52 61 27",showGrid:!0,showTicks:!0,autoZoom:!0,ticks:5,precision:3,snapToGrid:!1,showCPs:!0,fillPath:!0,minifyOutput:!1,openPanelPath:!0,openPanelCmds:!0,openPanelOper:!1,openPanelOpts:!0};function t(){const s=localStorage.getItem(e);if(s)try{let n=JSON.parse(s);o.initialData=P(P({},o.initialData),n)}catch{}}t(),o.save=oo(function(n){let a={path:n(K),showGrid:n(Ct),showTicks:n(Rt),autoZoom:n(Pt),ticks:n(Gt),precision:n(dt),snapToGrid:n(At),showCPs:n(kt),fillPath:n(Wt),minifyOutput:n(zt),openPanelPath:n(ge),openPanelCmds:n(we),openPanelOper:n(ye),openPanelOpts:n(Pe)};localStorage.setItem(e,JSON.stringify(a))},1e3)})(y||(y={}));function $t(o){try{const e=new ce(o);if(e.path.length&&gt(e.path[0])!=="M")throw new Error("The path must start with moveto command (('M' or 'm')");return e}catch(e){if(typeof e=="string")/^Invalid path/.test(e)?Ot(`tm path: ${e}`):Ot(e);else if(e instanceof Error){const t=/^malformed path \(first error at (\d+)\)/.exec(e.message);t?Ot(`tm mal: ${e.message} at pos ${t[1]}`):le(e.message)}}}const me=h(!0),K=E(y.initialData.path,({get:o})=>y.save(o)),z=h(o=>o(K),(o,e,t)=>{e(K,t);const s=$t(t);s&&(e(T,pe(s)),e(ut))}),rt={activeRow:void 0,hoverRow:void 0,activeEd:void 0,hoverEd:void 0},ct=h(null,(o,e,{atom:t,states:s})=>{const n={};for(const[l,c]of Object.entries(s)){const u=l,d=rt[u];d&&d!==t&&e(d,v=>S(P({},v),{[u]:!1})),rt[u]=c&&c!==-1?t:void 0,n[u]=c}const a=o(t);Object.entries(n).some(([l,c])=>a[l]!==c)&&e(t,l=>P(P({},l),n))}),so=h(null,(o,e)=>{rt.activeRow&&(e(rt.activeRow,t=>S(P({},t),{activeRow:!1})),rt.activeRow=void 0)}),no=h(!1);function pe(o){const e={svg:o,edits:[],completePathAtom:h(o.asString()),allowUpdatesAtom:h(!0),doReloadAllValuesAtom:E(!0,r),doReloadSvgItemIdxAtom:E(-1,l),doUpdatePointAtom:h(null,c),doScaleAtom:h(null,u),doTransAtom:h(null,d),doRoundAtom:h(null,v),doSetRelAbsAtom:h(null,b)};return t(),o.path.forEach((f,m)=>{const x={id:Ft(),section:-1,svgItemIdx:m,svgItem:f,typeAtom:h(f.getType()),isRelAtom:E(f.relative,({get:w,set:Z,nextValue:V})=>{f.setRelative(V),e.svg.refreshAbsolutePositions(),n(Z,m)}),valueAtoms:f.values.map((w,Z)=>E(w,(V=>({get:O,set:vt,nextValue:xt})=>{O(e.allowUpdatesAtom)&&(f.values[V]=xt,e.svg.refreshAbsolutePositions(),n(vt,m))})(Z))),standaloneStringAtom:h(f.asStandaloneString()),stateAtom:h({activeRow:!1,hoverRow:!1,activeEd:-1,hoverEd:-1}),sectionIgnRefAtom:no,sectionEnabledAtom:h(w=>!x.sectionIgnRefAtom||!w(x.sectionIgnRefAtom))};e.edits.push(x)}),s(e.edits),e;function t(){e.svg.path.forEach(f=>{f.controlLocations().forEach((x,w)=>x.subIndex=w)})}function s(f){let m=0;f.forEach(w=>gt(w.svgItem)==="M"&&(w.section=m++)),m===1&&(f[0].section=-1),f.forEach(w=>w.section!==-1&&(w.sectionIgonoreAtom=h(!1)));let x;f.forEach(w=>{w.sectionIgonoreAtom&&(x=w.sectionIgonoreAtom),x&&(w.sectionIgnRefAtom=x)})}function n(f,m=-2){t(),f(e.doReloadAllValuesAtom,!0),f(e.doReloadAllValuesAtom,!1),f(e.doReloadSvgItemIdxAtom,m),f(e.doReloadSvgItemIdxAtom,-1)}function a(f,m){m(e.allowUpdatesAtom,!1),e.svg.path.forEach((x,w)=>{const Z=e.edits[w].valueAtoms;x.values.forEach((V,O)=>{f(Z[O])!=V&&m(Z[O],V)})}),m(e.allowUpdatesAtom,!0)}function r({get:f,set:m,nextValue:x}){x&&a(f,m)}function l({get:f,set:m,nextValue:x}){function w(V,O=!1){const vt=e.edits[V],xt=e.svg.path[V];O&&m(vt.typeAtom,xt.getType()),m(vt.standaloneStringAtom,xt.asStandaloneString())}function Z(){const V=f(zt),O=f(dt);m(e.completePathAtom,e.svg.asString()),m(K,o.asString(O,V))}x>=0?(e.edits.forEach((V,O)=>w(O,!0)),Z()):x===-2&&(e.edits.forEach((V,O)=>w(O,!0)),Z())}function c(f,m,{pt:x,newXY:w,svgItemIdx:Z}){o.setLocation(x,w),n(m,Z)}function u(f,m){const x=f(Ae),w=f(Nt);if(!(x===1&&w===1)){if(x===0||w===0){le("Can't scale to zero");return}e.svg.scale(x,w),n(m,-2)}}function d(f,m){const x=f(qt),w=f(Qt);e.svg.translate(x,w),n(m,-2),m(qt,0),m(Qt,0)}function v(f,m){const x=f(ke);m(z,e.svg.asString(x))}function b(f,m,x){e.svg.setRelative(x),n(m,-2)}}const ve=h(o=>o(T).edits.some(t=>t.sectionIgonoreAtom&&o(t.sectionIgonoreAtom)),(o,e,t)=>{const s=typeof t=="function"?t(o(ve)):t;o(T).edits.forEach(a=>a.sectionIgonoreAtom&&e(a.sectionIgonoreAtom,s))}),ao=h(null,(o,e)=>{const t=o(T);e(t.doScaleAtom),o(Pt)&&e(ut)}),io=h(null,(o,e)=>{const t=o(T);e(t.doTransAtom),o(Pt)&&e(ut)}),lo=h(null,(o,e)=>{const t=o(T);e(t.doRoundAtom)}),ro=h(null,(o,e,t)=>{const s=o(T);e(s.doSetRelAbsAtom,t)}),T=h(pe($t(y.initialData.path)||new ce(""))),D=h([0,0,10,10]),U=h(1),co=h(o=>o(D),(o,e,t)=>{const s=o(X),n=fe(s,...t,!0);n&&(e(D,n.viewBox),e(U,n.stroke))}),xe=h(null,(o,e,{deltaY:t,pt:s})=>{let n=Math.min(1e3,Math.max(-450,t));const a=o(D),r=Math.pow(1.005,n),l=to(a,r),c=o(X),u=Ut(l[2],c.w);e(D,l),e(U,u)}),ut=h(null,(o,e)=>{const t=o(X),n=o(T).svg.targetLocations(),a=eo(t,n);a&&(e(D,a.port),e(U,a.stroke))}),wt=h(null,(o,e,t)=>{t?e(xe,{deltaY:t}):e(ut)}),uo=h(null,(o,e)=>{const t=o(X);if(t.w&&t.h)if(o(me))e(ut),e(me,!1);else{const n=o(D),a=fe(t,n[0],n[1],n[2],null,!0);a&&(e(D,a.viewBox),e(U,a.stroke))}}),Ht=h({w:0,h:0}),X=h(o=>o(Ht),(o,e,t)=>{const s=o(Ht);(t.w!==s.w||t.h!==s.h)&&e(Ht,t)}),yt=h(void 0);function jt(o,e,t,s,n){const a=t.getBoundingClientRect();let[r,l]=o;const c=r+(s-a.x)*e,u=l+(n-a.y)*e;return{x:c,y:u}}const J=h(null);h(o=>o(J));const be=h(null,(o,e,t)=>{if(t.mdownEvent.button!==0)return;o(yt)&&(t.mmoved=!1,e(J,t))}),ho=h(null,(o,e,t)=>{const s=o(yt);if(s){const n=o(D),a=o(U),r=jt(n,a,s,t.clientX,t.clientY);e(J,{mdownEvent:t,mdownXY:r,svgItemIdx:-1,mmoved:!1})}}),fo=h(null,(o,e,t)=>{const s=o(J);if(!s)return;const n=o(D),a=o(U),r=o(yt);if(r){t.stopPropagation(),s.mmoved=!0;const l=o(dt),c=o(At);if(s.mdownPt){const u=jt(n,a,r,t.clientX,t.clientY),d=c?0:t.ctrlKey?l?0:3:l;u.x=parseFloat(u.x.toFixed(d)),u.y=parseFloat(u.y.toFixed(d));const v=o(T);e(v.doUpdatePointAtom,{pt:s.mdownPt,newXY:u,svgItemIdx:s.svgItemIdx})}else{const u=s.mdownXY,d=jt(n,a,r,t.clientX,t.clientY);e(D,v=>[v[0]+u.x-d.x,v[1]+u.y-d.y,v[2],v[3]])}}}),mo=h(null,(o,e)=>{const t=o(J);t&&(!t.mdownPt&&!t.mmoved&&e(so),e(J,null))}),Pt=E(y.initialData.autoZoom,({get:o})=>y.save(o)),Gt=E(y.initialData.ticks,({get:o})=>y.save(o)),dt=E(y.initialData.precision,({get:o})=>y.save(o)),At=E(y.initialData.snapToGrid,({get:o})=>y.save(o)),kt=E(y.initialData.showCPs,({get:o})=>y.save(o)),Wt=E(y.initialData.fillPath,({get:o})=>y.save(o)),Yt=E(y.initialData.minifyOutput,({get:o})=>y.save(o)),po=h(null,(o,e,t)=>{let s=o(K);const n=$t(s);if(n){const a=o(dt);s=n.asString(a,t),e(K,s)}e(Yt,t)}),zt=h(o=>o(Yt),(o,e,t)=>{const s=typeof t=="function"?t(o(Yt)):t;e(po,s)}),Ct=E(y.initialData.showGrid,({get:o})=>y.save(o)),Rt=E(y.initialData.showTicks,({get:o})=>y.save(o)),ge=E(y.initialData.openPanelPath,({get:o})=>y.save(o)),we=E(y.initialData.openPanelCmds,({get:o})=>y.save(o)),ye=E(y.initialData.openPanelOper,({get:o})=>y.save(o)),Pe=E(y.initialData.openPanelOpts,({get:o})=>y.save(o)),Xt=h(!0),_t=h(o=>o(Xt),(o,e,t)=>{e(Xt,t),o(Xt)&&e(Nt,o(St))}),St=h(1),Ae=h(o=>o(St),(o,e,t)=>{e(St,t),o(_t)&&e(Nt,o(St))}),Nt=h(1),qt=h(0),Qt=h(0),ke=h(1),vo=h(null,(o,e)=>{}),xo=h(null,(o,e)=>{}),bo=h(null,(o,e)=>{}),go=h(null,(o,e)=>{}),wo=h(null,(o,e)=>{o(z).length&&e(z,"")}),yo=40,Po=h(!0),Et=h([]),tt=h(0);h(null,(o,e,t)=>{let s=o(Et),n=o(tt);s.length>=yo&&(s.shift(),n--),e(Et,[...s,t]),e(tt,n++)});const Ao=(o,e)=>!!o.length&&e>0,ko=(o,e)=>!!o.length&&e<o.length-1;h(null,(o,e,t)=>{let s=o(Et),n=o(tt);Ao(s,n)&&(n--,e(tt,n),e(z,s[n]))});h(null,(o,e,t)=>{let s=o(Et),n=o(tt);ko(s,n)&&(n++,e(tt,n),e(z,s[n]))});h(null,(o,e,t)=>{e(Po,t)});function Co(o,e=200,t=!0){if(e<=0)return o;let s=0,n,a,r;function l(){n&&(clearTimeout(n),n=void 0)}function c(){l(),o.apply(a,r)}function u(...d){const v=Date.now()-s;l(),v>e?(s=Date.now(),o.apply(this,d)):t&&(r=d,a=this,n=setTimeout(c,e))}return u}function Ro(){const[o]=L(T),[e,{width:t,height:s}]=ne(),n=C.useRef(),a=A(X),r=A(yt),l=A(uo),c=A(xe),u=C.useCallback(Co(v=>{c(v)}),[]),d=C.useCallback(v=>{if(!n.current)return;const{left:b,top:f}=n.current.getBoundingClientRect(),{clientX:m,clientY:x}=v;u({deltaY:v.deltaY,pt:{x:m-b,y:x-f}})},[n]);return C.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[parentRef]",n,t,s),r(n.current)},[n]),C.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[width, height]",n,t,s),a({w:t,h:s}),l()},[t,s]),C.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[svgEditRoot]",n,t,s),l()},[o]),{ref:e,parentRef:n,onWheel:d}}const Mt=(o,e,t)=>t?o?"#009cff":e?"#ff4343":"white":"#777c",Ce=(o,e,t)=>t?o?"#9c00ffa0":e?"#ffad40":"white":"#777c",So=(o,e,t)=>t?o?"#9c00ffa0":e?"#ffad40":"#fff5":"#777c";function No({svgItemEdit:o,sectionEnabledAtom:e}){const t=g(o.standaloneStringAtom),s=g(e),n=g(U),a=A(be),r=o.svgItemIdx,l=o.stateAtom,c=o.svgItem.targetLocation(),u=gt(o.svgItem),d=u==="M",v=A(ct),b=g(l),f=b.activeRow&&b.activeEd===-1,m=b.hoverRow&&b.hoverEd===-1;return u==="Z"?null:p(F,{children:[i("path",{style:{stroke:Mt(b.activeRow,b.hoverRow,s),fill:"none"},strokeWidth:n,d:t}),(f||m)&&i("circle",{style:{stroke:"#9c00ff63",fill:Ce(f,m,s)},cx:c.x,cy:c.y,r:n*8,strokeWidth:n*16}),i("circle",{cx:c.x,cy:c.y,r:d?n*5:n*3,style:d?{stroke:Mt(b.activeRow,b.hoverRow,s),fill:"#fff3",strokeWidth:n*1.2}:{stroke:"transparent",fill:Mt(b.activeRow,b.hoverRow,s),strokeWidth:n*12},className:"cursor-pointer",onMouseEnter:()=>v({atom:l,states:{hoverRow:!0}}),onMouseLeave:()=>v({atom:l,states:{hoverRow:!1}}),onMouseDown:x=>{x.stopPropagation(),v({atom:l,states:{activeRow:!0}}),a({mdownEvent:x,mdownPt:c,svgItemIdx:r})},children:p("title",{children:["abs: ",_(c.x,2),",",_(c.y,2)]})})]})}function Eo({svgItemEdit:o,cpIdx:e,sectionEnabledAtom:t}){g(o.standaloneStringAtom);const s=g(t),n=g(U),a=A(be),r=A(ct),l=o.svgItemIdx,c=o.stateAtom,d=o.svgItem.controlLocations()[e],v=g(c),b=v.activeRow&&v.activeEd===d.subIndex,f=v.hoverRow&&v.hoverEd===d.subIndex;return p(F,{children:[d.relations.map((m,x)=>i("line",{style:{stroke:So(v.activeRow,v.hoverRow,s),strokeWidth:n*1.5,strokeDasharray:`${n*3} ${n*5}`},x1:d.x,y1:d.y,x2:m.x,y2:m.y,strokeWidth:n},x)),(b||f)&&i("rect",{className:"cursor-pointer",style:{stroke:"#9c00ff63",fill:Ce(b,f,s)},x:d.x-8*n,y:d.y-8*n,width:n*16,height:n*16,strokeWidth:n*16}),i("rect",{x:d.x-3*n,y:d.y-3*n,width:n*6,height:n*6,strokeWidth:n*12,style:{stroke:"transparent",fill:Mt(v.activeRow,v.hoverRow,s)},className:"cursor-pointer",onMouseEnter:()=>{r({atom:c,states:{hoverRow:!0,hoverEd:d.subIndex}})},onMouseLeave:()=>{r({atom:c,states:{hoverRow:!1,hoverEd:-1}})},onMouseDown:m=>{m.stopPropagation(),r({atom:c,states:{activeRow:!0}}),a({mdownEvent:m,mdownPt:d,svgItemIdx:l})},children:p("title",{children:["abs: ",_(d.x,2),",",_(d.y,2)]})})]})}function Mo(o,e){const t=5*o[2]<=e;return{xGrid:t?Array(Math.ceil(o[2])+1).fill(null).map((s,n)=>Math.floor(o[0])+n):[],yGrid:t?Array(Math.ceil(o[3])+1).fill(null).map((s,n)=>Math.floor(o[1])+n):[]}}function Lo(){const o=g(D),e=g(X),t=g(U),s=g(Rt),n=g(Gt);if(!g(Ct))return null;const r=Mo(o,e.w);return p("g",{className:"svg-ticks",children:[r.xGrid.map(l=>i("line",{x1:l,x2:l,y1:o[1],y2:o[1]+o[3],className:`${l===0?"stroke-[#f005]":l%n==0?"stroke-[#8888]":"stroke-[#8884]"}`,style:{strokeWidth:t}},`x${l}`)),r.yGrid.map(l=>i("line",{y1:l,y2:l,x1:o[0],x2:o[0]+o[2],className:`${l===0?"stroke-[#f005]":l%n==0?"stroke-[#8888]":"stroke-[#8884]"}`,style:{strokeWidth:t}},`y${l}`)),s&&p(F,{children:[r.xGrid.map(l=>i(C.Fragment,{children:l%n==0&&i("text",{className:"fill-[#744]",y:-5*t,x:l-5*t,style:{fontSize:t*10+"px",stroke:"white",strokeWidth:t*.2},children:l})},l)),r.yGrid.map(l=>i(C.Fragment,{children:l%n==0&&i("text",{className:"fill-[#744]",x:-5*t,y:l-5*t,style:{fontSize:t*10+"px",stroke:"white",strokeWidth:t*.2},children:l})},l))]})]})}function Io(){const o=A(ho),e=A(fo),t=A(mo),s=C.useCallback(r=>o(r),[]),n=C.useCallback(()=>t(),[]),a=C.useCallback(r=>e(r),[]);return{onMouseDown:s,onMouseUp:n,onMouseMove:a}}function To({children:o}){const e=g(X),t=g(D),{onMouseDown:s,onMouseMove:n,onMouseUp:a}=Io();return!e.w||!e.h?null:i("svg",{viewBox:t.join(" "),className:"bg-[#040d1c] select-none",onMouseDown:s,onMouseMove:n,onMouseUp:a,children:o})}function Vo(){const o=g(T),e=g(o.completePathAtom),t=g(U),s=g(kt),n=g(Wt),a=n||s&&n?"#94a3b830":"none";return n?i(F,{children:e&&i("path",{d:e,fill:a,stroke:"none",strokeWidth:t})}):null}function Bo(){const e=g(T).edits;return i("g",{className:"target-pts",children:e.map((t,s)=>i(No,{svgItemEdit:t,sectionEnabledAtom:t.sectionEnabledAtom},s))})}function Oo(){const e=g(T).edits;return i("g",{className:"ctrl-pts",children:e.map((t,s)=>{const n=t.svgItem.controlLocations(),a=t.sectionEnabledAtom;return n.map((r,l)=>i(Eo,{svgItemEdit:t,cpIdx:l,sectionEnabledAtom:a},`${s}${l}`))})})}function Do(){const{ref:o,parentRef:e,onWheel:t}=Ro(),s=g(kt);return i("div",{ref:je(o,e),className:"absolute w-full h-full overflow-hidden",onWheel:t,children:p(To,{children:[i(Lo,{}),i(Vo,{}),s&&p("g",{className:"pts",children:[i(Oo,{}),i(Bo,{})]})]})})}const Zo=Be;function Lt({toggle:o,children:e}){const[t,{height:s,top:n}]=ne(),[a,r]=C.useState(!0),l=ot({overflow:"hidden",height:o?s+n:0,config:a?{duration:0}:{mass:.2,tension:492,clamp:!0},onRest:()=>a&&r(!1)});return i("div",{children:i(st.div,{style:l,children:i("div",{ref:t,children:e})})})}function It(s){var n=s,{children:o,open:e=!0}=n,t=M(n,["children","open"]);const a=ot({open:e?1:0,config:{mass:.2,tension:492,clamp:!0}});return p("div",S(P({className:"px-2 py-1 bg-slate-500 text-stone-100 uppercase flex items-center justify-between select-none cursor-pointer font-ui"},t),{children:[o,i("svg",{className:"w-6 h-6 p-1 stroke-current stroke-[.6rem] fill-none",viewBox:"0 0 100 100",children:i(st.path,{d:a.open.to({range:[0,.3,1],output:["M 50 13 L 80 43 L 50 72","M 50 13 L 50 42 L 50 72","M 80 35 L 50 65 L 20 35"]})})})]}))}function B(...o){return o.filter(Boolean).join(" ")}function Fo(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"currentColor",viewBox:"0 0 100 100"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M57.62 99.5H42.38a17.16 17.16 0 0 1-17.13-17.13V67.13a17.1 17.1 0 0 1 15.23-16.94v11.58a5.72 5.72 0 0 0-3.81 5.36v15.24a5.73 5.73 0 0 0 5.71 5.71h15.24a5.73 5.73 0 0 0 5.71-5.71V67.13a5.72 5.72 0 0 0-3.81-5.36V50.19a17.1 17.1 0 0 1 15.23 16.94v15.24A17.16 17.16 0 0 1 57.62 99.5Zm-1.91-66.63v34.26a5.71 5.71 0 1 1-11.42 0V32.87a5.71 5.71 0 1 1 11.42 0Zm3.81 16.94V38.23a5.72 5.72 0 0 0 3.81-5.36V17.63a5.73 5.73 0 0 0-5.71-5.71H42.38a5.73 5.73 0 0 0-5.71 5.71v15.24a5.72 5.72 0 0 0 3.81 5.36v11.58a17.1 17.1 0 0 1-15.23-16.94V17.63A17.16 17.16 0 0 1 42.38.5h15.24a17.16 17.16 0 0 1 17.13 17.13v15.24a17.1 17.1 0 0 1-15.23 16.94Z"})]}))}function Uo(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M5.2 1.5h13.08l4.22 4.22V18.8a3.7 3.7 0 0 1-3.7 3.7H5.2a3.7 3.7 0 0 1-3.7-3.7V5.2a3.7 3.7 0 0 1 3.7-3.7ZM5.43 3A2.39 2.39 0 0 0 3 5.43v13.14A2.39 2.39 0 0 0 5.43 21h13.14A2.39 2.39 0 0 0 21 18.57v-12L17.48 3h-1.3v6H5.43Zm1.4 0v4.45h7.87V3ZM12 10.81a3.71 3.71 0 0 1 3.71 3.71A3.71 3.71 0 0 1 12 18.23a3.71 3.71 0 0 1-3.71-3.71A3.71 3.71 0 0 1 12 10.81Zm0 1.46a2.25 2.25 0 0 0-2.25 2.25A2.25 2.25 0 0 0 12 16.77a2.25 2.25 0 0 0 2.25-2.25A2.25 2.25 0 0 0 12 12.27Z"})]}))}function $o(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M 5.086 6.237 V 17.601 a 4.429 4.429 90 0 0 4.138 4.42 L 9.515 22.03 h 7.82 A 2.657 2.657 90 0 1 14.83 23.802 H 8.629 a 5.315 5.315 90 0 1 -5.315 -5.315 V 8.744 a 2.657 2.657 90 0 1 1.772 -2.507 z M 18.373 2.543 A 2.657 2.657 90 0 1 21.03 5.2 v 12.401 a 2.657 2.657 90 0 1 -2.657 2.657 h -8.858 A 2.657 2.657 90 0 1 6.858 17.601 v -12.401 A 2.657 2.657 90 0 1 9.515 2.543 h 8.858 z m 0 1.772 h -8.858 a 0.886 0.886 90 0 0 -0.886 0.886 v 12.401 a 0.886 0.886 90 0 0 0.886 0.886 h 8.858 a 0.886 0.886 90 0 0 0.886 -0.886 v -12.401 a 0.886 0.886 90 0 0 -0.886 -0.886 z"})]}))}function Ho(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.79h4.81V6.4h-1.6v14.41l-1.61 1.6H6.4l-1.61-1.6V6.4h-1.6V4.79H8v-1.6a1.6 1.6 0 0 1 1.6-1.6h4.8a1.6 1.6 0 0 1 1.6 1.6Zm-1.6-1.6H9.6v1.6h4.8Zm-8 17.62h11.2V6.4H6.4ZM9.6 8H8v11.21h1.6Zm1.6 0h1.6v11.21h-1.6Zm3.2 0H16v11.21h-1.6Z"})]}))}function jo(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"none",strokeWidth:"1.5",stroke:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M2.8 2.3V15"}),i("path",{d:"M6.58 8.67h9.34c7.33 0 7.33 11.33 0 11.33h-13.34"}),i("path",{d:"m11.25 13.33-4.67-4.66L11.25 4"})]}))}function Go(o){const s=o,{title:e}=s,t=M(s,["title"]);return p("svg",S(P({fill:"none",strokeWidth:"1.5",stroke:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M21.4 2.3V15"}),i("path",{d:"M17.42 8.67H8.08C.75 8.67.75 20 8.08 20h13.34"}),i("path",{d:"m12.75 13.33 4.67-4.66L12.75 4"})]}))}function Wo(){const[o,e]=L(z);return i("textarea",{className:"p-0.5 w-full bg-slate-200 text-xs font-mono",rows:5,spellCheck:!1,value:o,onChange:t=>e(t.target.value)})}function ht(a){var r=a,{scale:o=!0,disabled:e=!1,children:t,className:s}=r,n=M(r,["scale","disabled","children","className"]);return i("button",S(P({className:B("px-1 flex-1 py-0.5 mx-auto text-slate-700 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",e?"opacity-50":o?"active:scale-[.97]":"",s),disabled:e},n),{children:t}))}function Yo(){const o=A(vo),e=A(xo),t=A(bo),s=A(go),n=A(wo);return p(F,{children:[i(ht,{onClick:o,children:i(Uo,{className:"w-5 h-5",title:"Save"})}),i(ht,{onClick:e,children:i($o,{className:"w-5 h-5",title:"Copy"})}),i(ht,{onClick:t,disabled:!1,children:i(jo,{className:"w-5 h-5",title:"Undo"})}),i(ht,{onClick:s,disabled:!0,children:i(Go,{className:"w-5 h-5",title:"Redo"})}),i(ht,{onClick:n,children:i(Ho,{className:"w-5 h-5 pt-0.5",title:"Clear path"})})]})}function zo(){const o=g(z);return i("div",{className:"text-xs text-slate-300",children:o.length})}function Xo(){const[o,e]=L(ge);return p("div",{className:"",children:[i(It,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"flex-1",children:p("div",{className:"flex items-center justify-between",children:[i("div",{className:"pr-1 pt-1 ",children:"Path"}),i("div",{className:"flex items-center space-x-2",children:i(zo,{})})]})})}),i(Lt,{toggle:o,children:p("div",{className:"px-1.5 pt-1.5 pb-0.5 text-sm bg-slate-300 overflow-hidden",children:[p("div",{className:"flex justify-between",children:[i("div",{className:"pb-0.5 text-xs tracking-tighter self-end",children:"path"}),i("div",{className:"pb-2 flex space-x-1",children:i(Yo,{})})]}),i("label",{children:i(Wo,{})})]})})]})}function Re(o){return o.replace(/[\u066B,]/g,".").replace(/[^\-0-9.eE]/g,"")}function _o(o){return o.replace(/[^0-9]/g,"")}function ft(o,e,t){const[s,n]=C.useState(""+o);C.useEffect(()=>n(""+o),[o]);function a(c){c=(t||Re)(c),n(c);const u=+c;c&&!isNaN(u)&&e(u)}function r(){(!s||isNaN(+s))&&n(""+o)}function l(c){a(c.target.value)}return{value:s,onChange:l,onBlur:r}}function qo({svgItemEdit:o}){const e=g(o.typeAtom),[t,s]=L(o.isRelAtom);return i("label",{className:B("flex-0 w-5 h-5 leading-3 text-xs flex items-center justify-center rounded-l-[0.2rem] text-center text-slate-900 cursor-pointer select-none",t?"bg-slate-400":"bg-slate-500"),onClick:()=>s(n=>!n),children:i("div",{children:e})})}function Se({tooltip:o,isFirstRow:e}){return i("div",{className:`mini-tooltip ${e?"tooltip-down":"tooltip-up"} text-xs text-slate-100 bg-slate-400 rounded z-10`,children:o})}function Ne({atom:o,isFirstRow:e,isActiveRow:t,isHoverRow:s,svgItemIdx:n,debugIdx:a,stateAtom:r}){const[l,c]=L(o),u=[n,de("a",a)],d=A(ct),v=C.useRef(null),b=Bt(v);return C.useEffect(()=>d({atom:r,states:{hoverEd:b?u[1]:-1}}),[b]),p("div",{className:"relative pb-1",children:[i("input",{type:"checkbox",className:"w-3 h-3 rounded text-slate-400 bg-slate-200 focus:ring-slate-500 focus:ring-offset-1 focus:ring-1 focus:outline-none",ref:v,checked:!!l,onChange:()=>c(l?0:1)}),t&&b&&i(Se,{tooltip:ue("a",a),isFirstRow:e})]})}function Qo(o){const n=o,{atomA:e,atomB:t}=n,s=M(n,["atomA","atomB"]);return p("label",{className:"px-0.5 flex items-center space-x-0.5",children:[i(Ne,S(P({atom:e},s),{debugIdx:3})),i(Ne,S(P({atom:t},s),{debugIdx:4}))]})}function Ko({atom:o,isFirstRow:e,isActiveRow:t,isHoverRow:s,editorIdx:n,debugIdx:a,stateAtom:r,tooltip:l}){const[c,u]=L(o),x=ft(c,w=>u(w)),{onBlur:d}=x,v=M(x,["onBlur"]),b=A(ct),f=C.useRef(null),m=Bt(f);return C.useEffect(()=>{b({atom:r,states:{hoverEd:m?n[1]:-1}})},[m]),p("label",{className:B("relative flex-1 flex w-[2.4rem] h-5 bg-slate-200 text-slate-900 focus-within:text-blue-500 rounded-tl-sm",`${t?"bg-blue-300":s?"bg-slate-400/40":""}`),ref:f,children:[Ke,i("input",S(P({className:B("px-px pt-0.5 w-full h-full text-[10px] text-center tracking-tighter border-b-2","focus:border-blue-500 cursor-default focus:cursor-text focus:outline-none",t?"text-blue-900 bg-[#fff5] border-blue-300":s?"bg-slate-200 border-slate-400/40":"")},v),{onFocus:()=>b({atom:r,states:{activeEd:n[1]}}),onBlur:()=>(d(),b({atom:r,states:{activeEd:-1}}))})),t&&m&&i(Se,{tooltip:l,isFirstRow:e})]})}function Jo({svgItemEdit:o}){const e=o.svgItemIdx,t=o.stateAtom,s=g(o.typeAtom),n=A(ct),a=g(t),r=a.activeRow,l=a.hoverRow,c=C.useRef(null),u=Bt(c),[d,v]=C.useState(!1);return Oe(()=>v(u),100,[u]),C.useEffect(()=>{n({atom:t,states:{hoverRow:u}})},[d]),i(F,{children:i("div",{ref:c,className:`px-1.5 flex items-center justify-between ${r?"bg-blue-300":l?"bg-slate-400/40":""}`,onClick:()=>{n({atom:t,states:{activeRow:!0}})},onFocus:()=>{n({atom:t,states:{activeRow:!0}})},children:p("div",{className:"flex items-center justify-items-start font-mono space-x-0.5",children:[i(qo,{svgItemEdit:o}),o.valueAtoms.map((b,f)=>{const m=gt(o.svgItem)==="A"?f===3?0:f===4?2:1:1;return m===1?i(Ko,{atom:b,isFirstRow:e===0,isActiveRow:r,isHoverRow:l,editorIdx:[e,de(s,f)],debugIdx:f,stateAtom:t,tooltip:ue(s,f)},f):m===2?i(Qo,{atomA:o.valueAtoms[3],atomB:b,isFirstRow:e===0,isActiveRow:r,isHoverRow:l,svgItemIdx:e,stateAtom:t},f):null})]})})})}function Ee({tooltip:o,ignoreAtom:e}){const[t,s]=L(e);return i("div",{className:"w-3 h-3 bg-slate-500 border rounded-full flex items-center justify-center cursor-pointer",title:o,onClick:()=>s(n=>!n),children:i("div",{className:"w-2 h-2 bg-slate-200 rounded-full flex items-center justify-center",children:!t&&i("div",{className:"w-2 h-2 bg-slate-400 border rounded-full"})})})}function ts(){return p("div",{className:"px-2 text-xs flex items-center justify-between ",children:[i("div",{className:"",children:"Compound path"}),i(Ee,{ignoreAtom:ve})]})}function es({ignoreAtom:o}){return p("div",{className:"px-2 flex justify-between text-[.65rem] leading-3 ",children:[i("div",{className:"flex-1 mr-1 self-center h-px bg-gradient-to-r from-slate-500/10 via-slate-500/50 to-slate-500/10"}),i(Ee,{ignoreAtom:o})]})}function os(){var s;const e=g(T).edits,t=((s=e[0])==null?void 0:s.section)!==-1;return p("div",{className:"my-1 py-0.5 space-y-0.5",children:[t&&i(ts,{}),e.map((n,a)=>p(C.Fragment,{children:[n.sectionIgonoreAtom&&i(es,{ignoreAtom:n.sectionIgonoreAtom}),i(Jo,{svgItemEdit:n})]},a))]})}function ss(){const[o,e]=L(we);return p("div",{className:"",children:[i(It,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Path Commands"})}),i(Lt,{toggle:o,children:i("div",{className:"text-sm bg-slate-300 overflow-hidden",children:i(os,{})})})]})}function mt({label:o,overlay:e,className:t,atom:s,cleanup:n=Re,onEnter:a,style:r}){const[l,c]=L(s),u=ft(l,v=>c(v),n),d=C.useRef(null);return ae("Enter",()=>a&&a(),{target:d.current},[d.current]),p("label",{className:B("relative w-1/3 rounded-tl-sm overflow-hidden focus-within:text-blue-500",t),style:r,children:[i("div",{className:"px-1 -mt-1 absolute text-[.6rem] select-none pointer-events-none",children:o}),e,i("input",P({className:"px-1 pt-3 h-8 w-full border-b-2 text-slate-900 focus:border-blue-500 bg-slate-200 focus:outline-none",ref:d},u))]})}function ns(){const[o,e]=L(_t);return i(Fo,{className:B("absolute right-0 top-1/2 -translate-y-1/2 w-5 h-5 cursor-pointer",`${o?"fill-slate-700":"fill-slate-400 stroke-slate-400"}`),strokeWidth:2,onClick:()=>e(t=>!t),title:"lock/unlock x and y scales",onMouseDown:t=>t.preventDefault()})}function pt(n){var a=n,{scale:o=!0,children:e,className:t}=a,s=M(a,["scale","children","className"]);return i("button",S(P({className:B("px-1 flex-1 py-0.5 mx-auto text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",`${o?"active:scale-[.97]":""}`,t)},s),{children:e}))}function as(){const o=g(_t),e=A(ao);return p("div",{className:"my-1 flex space-x-1",children:[i(mt,{atom:Ae,label:o?"Uniform scale":"Scale X",overlay:i(ns,{}),className:"flex-none",onEnter:e}),!o&&i(mt,{atom:Nt,label:"Scale Y",className:"flex-none",onEnter:e}),i(pt,{onClick:e,style:{transition:"flex-basis .2s",flexBasis:o?"100%":"30%"},children:"Scale"})]})}function is(){const o=A(io);return p("div",{className:"my-1 flex space-x-1",children:[i(mt,{atom:qt,label:"Translate X",onEnter:o}),i(mt,{atom:Qt,label:"Translate Y",onEnter:o}),i(pt,{onClick:o,children:"Translate"})]})}function ls(){const o=A(lo),e=A(ro);return p("div",{className:"my-1 flex space-x-1",children:[i(mt,{atom:ke,label:"Number of decimals",cleanup:_o}),i(pt,{title:"Round all path numbers",onClick:o,children:"Round"}),i(pt,{title:"Convert all commands to relative",onClick:()=>e(!0),children:"To rel"}),i(pt,{title:"Convert all commands to absolute",onClick:()=>e(!1),children:"To abs"})]})}function rs(){const[o,e]=L(ye);return p("div",{className:"",children:[i(It,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Path Operations"})}),i(Lt,{toggle:o,children:p("div",{className:"px-1.5 py-0.5 text-sm bg-slate-300 overflow-hidden",children:[i(as,{}),i(is,{}),i(ls,{})]})})]})}function cs(t){var s=t,{locked:o}=s,e=M(s,["locked"]);return p("svg",S(P({viewBox:"0 0 11 16.5"},e),{children:[i("path",{style:{transition:"all ease-out .1s",transform:o?"":"translateY(-2px)"},d:"m5.5008594 2.0664843c-1.9 0-3.4394531 1.5000782-3.4394531 3.3300782v1.2734375h1.3085937v-1.2734375c0-1.14.9508594-2.0605469 2.1308594-2.0605469s2.1308594.9205469 2.1308594 2.0605469v2.4860889h1.2988282v-2.4860889c.01-1.83-1.5296876-3.3300782-3.4296876-3.3300782z"}),i("path",{style:{transition:"all ease-out .1s",transform:o?"":"translateY(.5px)"},d:"m7.6308594 5.25c.0000227.011025 0 .022153 0 .033203v1.3867189h-6.2597656c-.74000005 0-1.36914067.6000781-1.36914067 1.3300781v6.669922c0 .73.61890625 1.330078 1.37890627 1.330078h8.25c.7499996 0 1.3710936-.600078 1.3710936-1.330078v-6.669922c0-.7268371-.615604-1.3249101-1.3710936-1.3300781h-.7011719v-1.3867188c.0000215-.011025-.0000072-.022181 0-.033203zm-6.25 2.75h8.25l-.00977 6.669922h-8.24023zm4.1210937 2c-.750001 0-1.3808594.600078-1.3808593 1.330078 0 .74.6208583 1.339844 1.3808593 1.339844.76 0 1.3789063-.599844 1.3789063-1.339844 0-.73-.6289063-1.330078-1.3789063-1.330078z"})]}))}function us(n){var a=n,{scale:o=!0,children:e,className:t}=a,s=M(a,["scale","children","className"]);return i("button",S(P({className:B("px-1 flex-1 py-0.5 mx-auto text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",`${o?"active:scale-[.97]":""}`,t)},s),{children:e}))}function Tt({label:o,tooltip:e,idx:t}){const[s,n]=L(co),a=s.map(l=>parseFloat(l.toFixed(3))),r=ft(a[t],l=>{let c=[...a];c[t]=l,t===2&&(c[3]=null),t===3&&(c[2]=null),n(c)});return p("label",{className:"relative text-xs select-none",title:e,children:[i("div",{className:"absolute left-1.5 text-[.6rem] text-slate-900/60",children:o}),i("input",P({className:"px-1 pt-3 w-14 h-8 text-xs text-slate-900 bg-slate-200 border-slate-300 rounded border focus:outline-none shadow-sm shadow-slate-800/30"},r))]})}function ds(){const[o,e]=L(Pt);return p("div",{className:"flex space-x-1.5",children:[i(Tt,{label:"x",tooltip:"view box x",idx:0}),i(Tt,{label:"y",tooltip:"view box y",idx:1}),i(Tt,{label:"width",tooltip:"view box width",idx:2}),i(Tt,{label:"height",tooltip:"view box height",idx:3}),i(us,{onClick:()=>{e(t=>!t)},scale:!1,title:o?"viewBox is unlocked":"viewBox is locked",children:i(cs,{className:"w-5 h-5 mx-0.5 text-slate-700 fill-current",locked:!o})})]})}function Kt({label:o,title:e,atom:t,value:s,className:n=""}){const a=A(t);return i("button",{className:B("px-1 pb-px h-8 text-xs text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/50 active:scale-[.97] select-none",n),onClick:()=>a(s),title:e,children:o})}function hs({className:o}){const e=A(wt);return ae(t=>t.altKey&&(t.key==="1"||t.key==="2"||t.key==="3"),t=>{t.preventDefault(),e(t.key==="1"?10:t.key==="3"?-10:0)}),p("div",{className:B("flex items-center",o),children:[i(Kt,{label:"-",title:"Zoom Out (Alt+1)",atom:wt,value:10,className:"rounded-l border w-8"}),i(Kt,{label:"Zoom to Fit",title:"Zoom to Fit (Alt+2)",atom:wt,value:0,className:"border-t border-b px-2"}),i(Kt,{label:"+",title:"Zoom In (Alt+3)",atom:wt,value:-10,className:"rounded-r border w-8"})]})}function et(a){var r=a,{label:o,tooltip:e,atom:t,className:s}=r,n=M(r,["label","tooltip","atom","className"]);const[l,c]=L(t);return p("label",S(P({className:B("w-min h-6 whitespace-nowrap flex items-center text-xs space-x-1.5 select-none",s),title:e},n),{children:[i("input",{type:"checkbox",className:"rounded text-slate-500 bg-slate-300 focus:ring-slate-500 focus:ring-offset-1",checked:l,onChange:()=>c(u=>!u)}),i("div",{className:"",children:o})]}))}const Jt={easing:De.easeInOutQuart,duration:200};function fs(t){var s=t,{className:o}=s,e=M(s,["className"]);const n=g(At),[a,r]=L(dt),l=ft(a,u=>r(u)),c=ot({opacity:n?0:1,config:Jt});return i(st.label,S(P({style:c,className:B("flex items-center text-xs space-x-1 select-none",o)},e),{children:!n&&p(F,{children:[i("div",{className:"",children:"Precision"}),i("input",P({className:"w-8 h-[1.375rem] text-xs text-center text-slate-900 bg-slate-200 border-slate-300 rounded border focus:outline-none shadow-sm shadow-slate-800/30",title:"Point precision"},l))]})}))}function ms(t){var s=t,{className:o}=s,e=M(s,["className"]);const n=g(Ct),a=g(Rt),[r,l]=L(Gt),c=ft(r,v=>l(v)),u=ot({opacity:n?1:0,config:Jt}),d=ot({opacity:a?1:0,config:Jt});return i(F,{children:i(st.div,S(P({style:u,className:B("flex justify-between",o)},e),{children:n&&p(F,{children:[i(et,{label:"Ticks",tooltip:"Show ticks",atom:Rt}),i(st.div,{style:d,className:"flex items-center ",children:a&&i("input",P({className:"w-8 h-[1.375rem] text-xs text-center text-slate-900 bg-slate-200 border-slate-300 shadow-slate-800/30 rounded border focus:outline-none shadow-sm focus:ring-0",title:"Ticks interval"},c))})]})}))})}function ps(){return i("div",{className:"px-1.5 pt-1 pb-3 bg-slate-400/40 rounded flex items-center space-x-2",children:p("div",{className:"flex flex-col",children:[i("div",{className:"text-xs",children:"viewbox"}),i(ds,{}),i(hs,{className:"mt-3"}),p("div",{className:"mt-2 grid grid-cols-[1fr,minmax(6rem,min-content)]",children:[i(et,{label:"Snap to grid",tooltip:"Snap dragged points to grid",atom:At}),i(fs,{className:"justify-end"}),i(et,{label:"Show grid",tooltip:"Show grid",atom:Ct}),i(ms,{className:"justify-end"}),i(et,{label:"Show point contols",tooltip:"Show SVG point contols",atom:kt}),i(et,{label:"Fill path",tooltip:"Fill path",className:"",atom:Wt}),i(et,{label:"Minify output",tooltip:"Minify output path",className:"col-span-full",atom:zt})]})]})})}function vs(){const[o,e]=L(Pe);return p("div",{className:"",children:[i(It,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Options"})}),i(Lt,{toggle:o,children:i("div",{className:"text-sm bg-slate-300 overflow-hidden",children:i(ps,{})})})]})}function xs(){return i("div",{className:"py-1 w-[300px] max-w-[300px] flex flex-col space-y-1 bg-slate-600 border border-slate-900",children:i("div",{className:"flex-1 min-w-0 min-h-0",children:p(Zo,{className:"overflow-auto w-full h-full",children:[i(Xo,{}),i(ss,{}),i(rs,{}),i(vs,{})]})})})}function bs(){return i("div",{className:"flex-1 relative",children:i(Do,{})})}function gs(){return p(F,{children:[i(Ge,{}),p("div",{className:"h-screen flex overflow-hidden",children:[i(xs,{}),i(bs,{})]})]})}Ze.render(i(C.StrictMode,{children:i(gs,{})}),document.getElementById("root"));
