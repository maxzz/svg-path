var Te=Object.defineProperty,Ve=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var yt=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var Dt=(o,e,t)=>e in o?Te(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,P=(o,e)=>{for(var t in e||(e={}))ae.call(e,t)&&Dt(o,t,e[t]);if(yt)for(var t of yt(e))ie.call(e,t)&&Dt(o,t,e[t]);return o},M=(o,e)=>Ve(o,Be(e));var V=(o,e)=>{var t={};for(var s in o)ae.call(o,s)&&e.indexOf(s)<0&&(t[s]=o[s]);if(o!=null&&yt)for(var s of yt(o))e.indexOf(s)<0&&ie.call(o,s)&&(t[s]=o[s]);return t};var N=(o,e,t)=>(Dt(o,typeof e!="symbol"?e+"":e,t),t);import{j as i,T as Oe,t as De,a as h,u as B,b as le,R,c as A,d as g,e as m,F as H,S as Fe,f as it,g as lt,h as Ft,i as Ze,k as re,l as Ue,m as $e}from"./vendor.a9d3d864.js";const He=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};He();function je(){}function Ge(o){return!!(o&&typeof o!="function")}function We(o){return o?Ge(o)?e=>{o.current=e}:o:je}function Ye(...o){const e=o.map(t=>We(t));return t=>{e.forEach(s=>s(t))}}function ze(){return i("div",{className:"toaser",children:i(Oe,{position:"bottom-right",reverseOrder:!1,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{className:"",duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"green",secondary:"black"}}}})})}const ce=(o,e)=>De(o,P({style:{backgroundColor:"tomato"}},e));function ue(o){console.log(`%c${o}`,"color: orange"),ce(o)}function Zt(o){console.log(`%c${o}`,"color: pink"),ce(o)}function T(o,e){const t=h(o);return h(n=>n(t),(n,a,l)=>{const r=typeof l=="function"?l(n(t)):l;a(t,r),e({get:n,set:a,nextValue:r})})}const Xe=/^[\t\n\f\r ]*([MLHVZCSQTAmlhvzcsqta])[\t\n\f\r ]*/,de=/^[01]/,Ut=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,k=Ut,_e=/^(([\t\n\f\r ]+,?[\t\n\f\r ]*)|(,[\t\n\f\r ]*))/,qe={M:[k,k],L:[k,k],H:[k],V:[k],Z:[],C:[k,k,k,k,k,k],S:[k,k,k,k],Q:[k,k,k,k],T:[k,k],A:[Ut,Ut,k,de,de,k,k]};class $t{static components(e,t,s){const n=qe[e.toUpperCase()],a=[];for(;s<=t.length;){const l=[e];for(const r of n){const c=t.slice(s).match(r);if(c!==null){l.push(c[0]),s+=c[0].length;const u=t.slice(s).match(_e);u!==null&&(s+=u[0].length)}else{if(l.length===1)return[s,a];throw new Error("malformed path (first error at "+s+")")}}if(a.push(l),n.length===0)return[s,a];e==="m"&&(e="l"),e==="M"&&(e="L")}throw new Error("malformed path (first error at "+s+")")}static parse(e){let t=0,s=[];for(;t<e.length;){const n=e.slice(t).match(Xe);if(n!==null){const a=n[1];t+=n[0].length;const l=$t.components(a,e,t);t=l[0],s=[...s,...l[1]]}else throw new Error("malformed path (first error at "+t+")")}return s}}let Qe=1;function Ht(){return`${Qe++}`.padStart(7," ")}function K(o,e,t=!1){let s=o.toFixed(e).replace(/^(-?[0-9]*\.([0-9]*[1-9])?)0*$/,"$1").replace(/\.$/,"");return t&&(s=s.replace(/^(-?)0\./,"$1.")),s}class L{constructor(e,t){this.x=e,this.y=t}}class G extends L{constructor(e,t,s=!0){super(e,t);N(this,"itemReference",new Ke);N(this,"movable",!0);N(this,"id",Ht());this.movable=s}}class W extends G{constructor(e,t,s=!0){super(e.x,e.y,s);N(this,"subIndex",0);this.relations=t}}class O{constructor(e,t){N(this,"relative");N(this,"values");N(this,"previousPoint",new L(0,0));N(this,"absolutePoints",[]);N(this,"absoluteControlPoints",[]);N(this,"id",Ht());this.values=e,this.relative=t}static Make(e){let t;const s=e[0].toUpperCase()!==e[0],n=e.slice(1).map(a=>parseFloat(a));switch(e[0].toUpperCase()){case J.key:t=new J(n,s);break;case rt.key:t=new rt(n,s);break;case ct.key:t=new ct(n,s);break;case ut.key:t=new ut(n,s);break;case tt.key:t=new tt(n,s);break;case Y.key:t=new Y(n,s);break;case z.key:t=new z(n,s);break;case X.key:t=new X(n,s);break;case _.key:t=new _(n,s);break;case dt.key:t=new dt(n,s);break}if(!t)throw"Invalid SVG item";return t}static MakeFrom(e,t,s){const n=e.targetLocation(),a=n.x.toString(),l=n.y.toString();let r=[];const c=s.toUpperCase();switch(c){case J.key:r=[J.key,a,l];break;case rt.key:r=[rt.key,a,l];break;case ct.key:r=[ct.key,a];break;case ut.key:r=[ut.key,l];break;case tt.key:r=[tt.key];break;case Y.key:r=[Y.key,"0","0","0","0",a,l];break;case z.key:r=[z.key,"0","0",a,l];break;case X.key:r=[X.key,"0","0",a,l];break;case _.key:r=[_.key,a,l];break;case dt.key:r=[dt.key,"1","1","0","0","0",a,l];break}const u=O.Make(r),d=e.absoluteControlPoints;return u.previousPoint=t.targetLocation(),u.absolutePoints=[n],u.resetControlPoints(t),(e instanceof Y||e instanceof z)&&(u instanceof Y||u instanceof z)&&(u instanceof Y&&(u.values[0]=d[0].x,u.values[1]=d[0].y,u.values[2]=d[1].x,u.values[3]=d[1].y),u instanceof z&&(u.values[0]=d[1].x,u.values[1]=d[1].y)),(e instanceof X||e instanceof _)&&u instanceof X&&(u.values[0]=d[0].x,u.values[1]=d[0].y),s!==c&&u.setRelative(!0),u}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new L(0,0),this.absolutePoints=[];let s=t?t.targetLocation():new L(0,0);this.relative||(s=new L(0,0));for(let n=0;n<this.values.length-1;n+=2)this.absolutePoints.push(new G(s.x+this.values[n],s.y+this.values[n+1]))}setRelative(e){this.relative!==e&&(this.relative=!1,e?(this.translate(-this.previousPoint.x,-this.previousPoint.y),this.relative=!0):this.translate(this.previousPoint.x,this.previousPoint.y))}refreshAbsoluteControlPoints(e,t){this.absoluteControlPoints=[]}resetControlPoints(e){}translate(e,t,s=!1){(!this.relative||s)&&this.values.forEach((n,a)=>{this.values[a]=n+(a%2==0?e:t)})}scale(e,t){this.values.forEach((s,n)=>{this.values[n]=s*(n%2==0?e:t)})}targetLocation(){const e=this.absolutePoints.length;return this.absolutePoints[e-1]}setTargetLocation(e){const t=this.targetLocation(),s=e.x-t.x,n=e.y-t.y,a=this.values.length;this.values[a-2]+=s,this.values[a-1]+=n}setControlLocation(e,t){const s=this.absolutePoints[e],n=t.x-s.x,a=t.y-s.y;this.values[2*e]+=n,this.values[2*e+1]+=a}controlLocations(){return this.absoluteControlPoints}getType(){let e=this.constructor.key;return this.relative&&(e=e.toLowerCase()),e}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,this.getType(),...this.values].join(" ")}asString(e=4,t=!1,s=[]){const n=[this.values,...s.map(a=>a.values)].reduce((a,l)=>a.concat(l),[]).map(a=>K(a,e,t));return[this.getType(),...n].join(" ")}}class Ke extends O{constructor(){super([],!1)}}class J extends O{}N(J,"key","M");class rt extends O{}N(rt,"key","L");class Y extends O{refreshAbsoluteControlPoints(e,t){if(!t)throw"Invalid path";this.absoluteControlPoints=[new W(this.absolutePoints[0],[t.targetLocation()]),new W(this.absolutePoints[1],[this.targetLocation()])]}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new L(0,0);this.values[0]=2*t.x/3+s.x/3-n.x,this.values[1]=2*t.y/3+s.y/3-n.y,this.values[2]=t.x/3+2*s.x/3-n.x,this.values[3]=t.y/3+2*s.y/3-n.y}}N(Y,"key","C");const se=class extends O{refreshAbsoluteControlPoints(e,t){if(this.absoluteControlPoints=[],t instanceof Y||t instanceof se){const s=t.targetLocation(),n=t.absoluteControlPoints[1],a=new L(2*s.x-n.x,2*s.y-n.y);this.absoluteControlPoints.push(new W(a,[s],!1))}else{const s=t?t.targetLocation():new L(0,0),n=new L(s.x,s.y);this.absoluteControlPoints.push(new W(n,[],!1))}this.absoluteControlPoints.push(new W(this.absolutePoints[0],[this.targetLocation()]))}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,"C",this.absoluteControlPoints[0].x,this.absoluteControlPoints[0].y,this.absoluteControlPoints[1].x,this.absoluteControlPoints[1].y,this.absolutePoints[1].x,this.absolutePoints[1].y].join(" ")}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new L(0,0);this.values[0]=t.x/3+2*s.x/3-n.x,this.values[1]=t.y/3+2*s.y/3-n.y}setControlLocation(e,t){const s=this.absoluteControlPoints[1],n=t.x-s.x,a=t.y-s.y;this.values[0]+=n,this.values[1]+=a}};let z=se;N(z,"key","S");class X extends O{refreshAbsoluteControlPoints(e,t){if(!t)throw"Invalid path";this.absoluteControlPoints=[new W(this.absolutePoints[0],[t.targetLocation(),this.targetLocation()])]}resetControlPoints(e){const t=e.targetLocation(),s=this.targetLocation(),n=this.relative?t:new L(0,0);this.values[0]=t.x/2+s.x/2-n.x,this.values[1]=t.y/2+s.y/2-n.y}}N(X,"key","Q");const ne=class extends O{refreshAbsoluteControlPoints(e,t){if(t instanceof X||t instanceof ne){const s=t.targetLocation(),n=t.absoluteControlPoints[0],a=new L(2*s.x-n.x,2*s.y-n.y);this.absoluteControlPoints=[new W(a,[s,this.targetLocation()],!1)]}else{const s=t?t.targetLocation():new L(0,0),n=new L(s.x,s.y);this.absoluteControlPoints=[new W(n,[],!1)]}}asStandaloneString(){return["M",this.previousPoint.x,this.previousPoint.y,"Q",this.absoluteControlPoints[0].x,this.absoluteControlPoints[0].y,this.absolutePoints[0].x,this.absolutePoints[0].y].join(" ")}};let _=ne;N(_,"key","T");class tt extends O{refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new L(0,0),this.absolutePoints=[new G(e.x,e.y,!1)]}}N(tt,"key","Z");class ct extends O{refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new L(0,0),this.relative?this.absolutePoints=[new G(this.values[0]+this.previousPoint.x,this.previousPoint.y)]:this.absolutePoints=[new G(this.values[0],this.previousPoint.y)]}setTargetLocation(e){const t=this.targetLocation(),s=e.x-t.x;this.values[0]+=s}}N(ct,"key","H");class ut extends O{translate(e,t,s=!1){this.relative||(this.values[0]+=t)}scale(e,t){this.values[0]*=t}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new L(0,0),this.relative?this.absolutePoints=[new G(this.previousPoint.x,this.values[0]+this.previousPoint.y)]:this.absolutePoints=[new G(this.previousPoint.x,this.values[0])]}setTargetLocation(e){const t=this.targetLocation(),s=e.y-t.y;this.values[0]+=s}}N(ut,"key","V");class dt extends O{translate(e,t,s=!1){this.relative||(this.values[5]+=e,this.values[6]+=t)}scale(e,t){const s=this.values[0],n=this.values[1],a=Math.PI*this.values[2]/180,l=Math.cos(a),r=Math.sin(a),c=n*n*t*t*l*l+s*s*t*t*r*r,u=2*e*t*l*r*(n*n-s*s),d=s*s*e*e*l*l+n*n*e*e*r*r,p=-(s*s*n*n*e*e*t*t),b=u*u-4*c*d,C=Math.sqrt((c-d)*(c-d)+u*u);this.values[2]=u!==0?Math.atan((d-c-C)/u)*180/Math.PI:c<d?0:90,this.values[0]=-Math.sqrt(2*b*p*(c+d+C))/b,this.values[1]=-Math.sqrt(2*b*p*(c+d-C))/b,this.values[5]*=e,this.values[6]*=t,this.values[4]=e*t>=0?this.values[4]:1-this.values[4]}refreshAbsolutePoints(e,t){this.previousPoint=t?t.targetLocation():new L(0,0),this.relative?this.absolutePoints=[new G(this.values[5]+this.previousPoint.x,this.values[6]+this.previousPoint.y)]:this.absolutePoints=[new G(this.values[5],this.values[6])]}asString(e=4,t=!1,s=[]){if(t){const n=[this.values,...s.map(a=>a.values)].map(a=>a.map(l=>K(l,e,t))).map(a=>`${a[0]} ${a[1]} ${a[2]} ${a[3]}${a[4]}${a[5]} ${a[6]}`);return[this.getType(),...n].join(" ")}else return super.asString(e,t,s)}}N(dt,"key","A");class he{constructor(e){N(this,"path");const t=e?$t.parse(e):[];this.path=t.map(s=>O.Make(s)),this.refreshAbsolutePositions()}translate(e,t){return this.path.forEach((s,n)=>{s.translate(e,t,n===0)}),this.refreshAbsolutePositions(),this}scale(e,t){return this.path.forEach(s=>{s.scale(e,t)}),this.refreshAbsolutePositions(),this}setRelative(e){return this.path.forEach(t=>{t.setRelative(e)}),this.refreshAbsolutePositions(),this}delete(e){const t=this.path.indexOf(e);return t!==-1&&(this.path.splice(t,1),this.refreshAbsolutePositions()),this}insert(e,t){const s=t?this.path.indexOf(t):-1;s!==-1?this.path.splice(s+1,0,e):this.path.push(e),this.refreshAbsolutePositions()}changeType(e,t){const s=this.path.indexOf(e);if(s>0){const n=this.path[s-1];return this.path[s]=O.MakeFrom(e,n,t),this.refreshAbsolutePositions(),this.path[s]}return null}asString(e=4,t=!1){return this.path.reduce((s,n)=>{const a=n.getType();if(t&&s.length>0){const l=s[s.length-1];if(l.type===a)return l.trailing.push(n),s}return s.push({type:a==="m"?"l":a==="M"?"L":a,item:n,trailing:[]}),s},[]).map(s=>{const n=s.item.asString(e,t,s.trailing);return t?n.replace(/^([a-z]) /i,"$1").replace(/ -/g,"-").replace(/(\.[0-9]+) (?=\.)/g,"$1"):n}).join(t?"":" ")}targetLocations(){return this.path.map(e=>e.targetLocation())}controlLocations(){let e=[];for(let t=1;t<this.path.length;++t){const s=this.path[t].controlLocations();s.forEach((n,a)=>{n.subIndex=a}),e=[...e,...s]}return e}setLocation(e,t){e instanceof W?e.itemReference.setControlLocation(e.subIndex,t):e.itemReference.setTargetLocation(t),this.refreshAbsolutePositions()}refreshAbsolutePositions(){let e=null,t=new L(0,0);for(const s of this.path)s.refreshAbsolutePoints(t,e),s.refreshAbsoluteControlPoints(t,e),s.absolutePoints.forEach(n=>n.itemReference=s),s.absoluteControlPoints.forEach(n=>n.itemReference=s),(s instanceof J||s instanceof tt)&&(t=s.targetLocation()),e=s}}const Je={M:["x","y"],m:["dx","dy"],L:["x","y"],l:["dx","dy"],V:["y"],v:["dy"],H:["x"],h:["dx"],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","x","y"],a:["rx","ry","x-axis-rotation","large-arc-flag","sweep-flag","dx","dy"]};function fe(o,e){var t;return((t=Je[o])==null?void 0:t[e])||""}const to={M:[-1,-1],m:[-1,-1],L:[-1,-1],l:[-1,-1],V:[-1],v:[-1],H:[-1],h:[-1],C:[0,0,1,1,-1,-1],c:[0,0,1,1,-1,-1],S:[0,0,-1,-1],s:[0,0,-1,-1],Q:[0,0,-1,-1],q:[0,0,-1,-1],T:[-1,-1],t:[-1,-1],A:[0,0,-1,-1,-1,-1,-1],a:[0,0,-1,-1,-1,-1,-1]};function me(o,e){var t,s;return(s=(t=to[o])==null?void 0:t[e])!=null?s:-1}function Pt(o){return o.constructor.key}function pe(...o){console.log("%cneed check","color: red",...o)}const eo=!1;function oo(o){let e=0,t=0,s=10,n=10;return o.length&&(e=Math.min(...o.map(a=>a.x)),t=Math.min(...o.map(a=>a.y)),s=Math.max(...o.map(a=>a.x)),n=Math.max(...o.map(a=>a.y))),{xmin:e,ymin:t,xmax:s,ymax:n}}function so(o,e,t){const[s,n,a,l]=o;t=t||{x:s+.5*a,y:n+.5*l};const r=s+(t.x-s-e*(t.x-s)),c=n+(t.y-n-e*(t.y-n)),u=e*a,d=e*l;return[r,c,u,d]}function jt(o,e){return parseFloat((o/e).toPrecision(6))}function ve(o,e,t,s,n,a=!1,l=!1){if(!a&&l)return;if(!o.w||!o.h){pe("updateViewPort");return}if(s===null&&n!==null&&(s=o.w*n/o.h),n===null&&s!==null&&(n=o.h*s/o.w),!s||!n)return;const r=[parseFloat((1*e).toPrecision(6)),parseFloat((1*t).toPrecision(6)),parseFloat((1*s).toPrecision(4)),parseFloat((1*n).toPrecision(4))];return{viewBox:r,stroke:jt(r[2],o.w)}}function no(o,e){if(!o.w||!o.h){pe("getFitViewPort");return}const t=oo(e);let s=t.xmin-1,n=t.ymin-1,a=t.xmax-t.xmin+2,l=t.ymax-t.ymin+2;const r=o.h/o.w;r<l/a?a=l/r:l=r*a;const c=[parseFloat((1*s).toPrecision(6)),parseFloat((1*n).toPrecision(6)),parseFloat((1*a).toPrecision(4)),parseFloat((1*l).toPrecision(4))];return{size:{w:o.w,h:o.h},port:c,stroke:jt(c[2],o.w)}}function ao(o,e=100){let t,s,n;return function(...a){n=this,s=a,!t&&(t=setTimeout(()=>{t=null,o.apply(n,s)},e))}}var y;(function(o){const e="react-svg-expo-01";o.initialData={path:"M 0 0 L 25 103 Q 52 128 63 93 C -2 26 29 0 100 0 C 83 15 85 52 61 27",showGrid:!0,showTicks:!0,autoZoom:!0,ticks:5,precision:3,snapToGrid:!1,showCPs:!0,fillPath:!0,minifyOutput:!1,openPanelPath:!0,openPanelCmds:!0,openPanelOper:!1,openPanelOpts:!0};function t(){const s=localStorage.getItem(e);if(s)try{let n=JSON.parse(s);o.initialData=P(P({},o.initialData),n)}catch{}}t(),o.save=ao(function(n){let a={path:n(et),showGrid:n(Nt),showTicks:n(Et),autoZoom:n(Ct),ticks:n(zt),precision:n(st),snapToGrid:n(Rt),showCPs:n(St),fillPath:n(Xt),minifyOutput:n(qt),openPanelPath:n(Pe),openPanelCmds:n(Ae),openPanelOper:n(ke),openPanelOpts:n(Ce)};localStorage.setItem(e,JSON.stringify(a))},1e3)})(y||(y={}));function Gt(o){try{const e=new he(o);if(e.path.length&&Pt(e.path[0])!=="M")throw new Error("The path must start with moveto command (('M' or 'm')");return e}catch(e){if(typeof e=="string")/^Invalid path/.test(e)?Zt(`tm path: ${e}`):Zt(e);else if(e instanceof Error){const t=/^malformed path \(first error at (\d+)\)/.exec(e.message);t?Zt(`tm mal: ${e.message} at pos ${t[1]}`):ue(e.message)}}}const xe=h(!0),et=T(y.initialData.path,({get:o})=>y.save(o)),q=h(o=>o(et),(o,e,t)=>{e(et,t);const s=Gt(t);s&&(e(D,be(s)),e(mt))}),ht={activeRow:void 0,hoverRow:void 0,activeEd:void 0,hoverEd:void 0},ft=h(null,(o,e,{atom:t,states:s})=>{const n={};for(const[r,c]of Object.entries(s)){const u=r,d=ht[u];d&&d!==t&&e(d,p=>M(P({},p),{[u]:!1})),ht[u]=c&&c!==-1?t:void 0,n[u]=c}const a=o(t);Object.entries(n).some(([r,c])=>a[r]!==c)&&e(t,r=>P(P({},r),n))}),io=h(null,(o,e)=>{ht.activeRow&&(e(ht.activeRow,t=>M(P({},t),{activeRow:!1})),ht.activeRow=void 0)}),lo=h(!1);function be(o){const e={svg:o,edits:[],completePathAtom:h(o.asString()),allowUpdatesAtom:h(!0),doReloadAllValuesAtom:T(!0,u),doReloadSvgItemIdxAtom:T(-1,d),doUpdatePointAtom:h(null,p),doScaleAtom:h(null,b),doTransAtom:h(null,C),doRoundAtom:h(null,I),doSetRelAbsAtom:h(null,$)};return t(),o.path.forEach((f,v)=>{const w={id:Ht(),section:-1,svgItemIdx:v,svgItem:f,typeAtom:h(f.getType()),isRelAtom:T(f.relative,({get:x,set:S,nextValue:E})=>{f.setRelative(E),e.svg.refreshAbsolutePositions(),n(S,v)}),valueAtoms:f.values.map((x,S)=>T(x,(E=>({get:Z,set:gt,nextValue:wt})=>{Z(e.allowUpdatesAtom)&&(f.values[E]=wt,e.svg.refreshAbsolutePositions(),n(gt,v))})(S))),standaloneStringAtom:h(f.asStandaloneString()),stateAtom:h({activeRow:!1,hoverRow:!1,activeEd:-1,hoverEd:-1}),sectionIgnRefAtom:lo,sectionEnabledAtom:h(x=>!w.sectionIgnRefAtom||!x(w.sectionIgnRefAtom))};e.edits.push(w)}),s(e.edits),e;function t(){e.svg.path.forEach(f=>{f.controlLocations().forEach((w,x)=>w.subIndex=x)})}function s(f){let v=0;f.forEach(x=>Pt(x.svgItem)==="M"&&(x.section=v++)),v===1&&(f[0].section=-1),f.forEach(x=>x.section!==-1&&(x.sectionIgonoreAtom=h(!1)));let w;f.forEach(x=>{x.sectionIgonoreAtom&&(w=x.sectionIgonoreAtom),w&&(x.sectionIgnRefAtom=w)})}function n(f,v=-2){t(),f(e.doReloadAllValuesAtom,!0),f(e.doReloadAllValuesAtom,!1),f(e.doReloadSvgItemIdxAtom,v),f(e.doReloadSvgItemIdxAtom,-1)}function a(f,v){v(e.allowUpdatesAtom,!1),e.svg.path.forEach((w,x)=>{const S=e.edits[x].valueAtoms;w.values.forEach((E,Z)=>{f(S[Z])!=E&&v(S[Z],E)})}),v(e.allowUpdatesAtom,!0)}function l(f,v){return v.filter(w=>f(w.sectionEnabledAtom))}function r(f,v){return parseFloat(f.toFixed(v))}function c(f,v){const w=f(st);v.forEach(x=>x.svgItem.values.forEach((S,E)=>x.svgItem.values[E]=r(S,w)))}function u({get:f,set:v,nextValue:w}){w&&a(f,v)}function d({get:f,set:v,nextValue:w}){function x(E,Z=!1){const gt=e.edits[E],wt=e.svg.path[E];Z&&v(gt.typeAtom,wt.getType()),v(gt.standaloneStringAtom,wt.asStandaloneString())}function S(){const E=f(qt),Z=f(st);v(e.completePathAtom,e.svg.asString()),v(et,o.asString(Z,E))}w>=0?(e.edits.forEach((E,Z)=>x(Z,!0)),S()):w===-2&&(e.edits.forEach((E,Z)=>x(Z,!0)),S())}function p(f,v,{pt:w,newXY:x,svgItemIdx:S}){o.setLocation(w,x),n(v,S)}function b(f,v){const w=f(Re),x=f(It);if(w===1&&x===1)return;if(w===0||x===0){ue("Can't scale to zero");return}const S=l(f,e.edits);S.length&&(S.forEach(E=>E.svgItem.scale(w,x)),c(f,S),e.svg.refreshAbsolutePositions()),n(v,-2)}function C(f,v){const w=f(Jt),x=f(te),S=l(f,e.edits);S.length&&(S.forEach(E=>E.svgItem.translate(w,x,!!E.sectionIgonoreAtom||E.svgItemIdx===0)),c(f,S),e.svg.refreshAbsolutePositions()),n(v,-2),v(Jt,0),v(te,0)}function I(f,v){const w=f(Se);v(q,e.svg.asString(w))}function $(f,v,w){const x=l(f,e.edits);x.length&&(x.forEach(S=>S.svgItem.setRelative(w)),e.svg.refreshAbsolutePositions()),n(v,-2)}}const ge=h(o=>o(D).edits.some(t=>t.sectionIgonoreAtom&&o(t.sectionIgonoreAtom)),(o,e,t)=>{const s=typeof t=="function"?t(o(ge)):t;o(D).edits.forEach(a=>a.sectionIgonoreAtom&&e(a.sectionIgonoreAtom,s))}),ro=h(null,(o,e)=>{const t=o(D);e(t.doScaleAtom),o(Ct)&&e(mt)}),co=h(null,(o,e)=>{const t=o(D);e(t.doTransAtom),o(Ct)&&e(mt)}),uo=h(null,(o,e)=>{const t=o(D);e(t.doRoundAtom)}),ho=h(null,(o,e,t)=>{const s=o(D);e(s.doSetRelAbsAtom,t)}),D=h(be(Gt(y.initialData.path)||new he(""))),U=h([0,0,10,10]),j=h(1),fo=h(o=>o(U),(o,e,t)=>{const s=o(Q),n=ve(s,...t,!0);n&&(e(U,n.viewBox),e(j,n.stroke))}),we=h(null,(o,e,{deltaY:t,pt:s})=>{let n=Math.min(1e3,Math.max(-450,t));const a=o(U),l=Math.pow(1.005,n),r=so(a,l),c=o(Q),u=jt(r[2],c.w);e(U,r),e(j,u)}),mt=h(null,(o,e)=>{const t=o(Q),n=o(D).svg.targetLocations(),a=no(t,n);a&&(e(U,a.port),e(j,a.stroke))}),At=h(null,(o,e,t)=>{t?e(we,{deltaY:t}):e(mt)}),mo=h(null,(o,e)=>{const t=o(Q);if(t.w&&t.h)if(o(xe))e(mt),e(xe,!1);else{const n=o(U),a=ve(t,n[0],n[1],n[2],null,!0);a&&(e(U,a.viewBox),e(j,a.stroke))}}),Wt=h({w:0,h:0}),Q=h(o=>o(Wt),(o,e,t)=>{const s=o(Wt);(t.w!==s.w||t.h!==s.h)&&e(Wt,t)}),kt=h(void 0);function Yt(o,e,t,s,n){const a=t.getBoundingClientRect();let[l,r]=o;const c=l+(s-a.x)*e,u=r+(n-a.y)*e;return{x:c,y:u}}const ot=h(null);h(o=>o(ot));const ye=h(null,(o,e,t)=>{if(t.mdownEvent.button!==0)return;o(kt)&&(t.mmoved=!1,e(ot,t))}),po=h(null,(o,e,t)=>{const s=o(kt);if(s){const n=o(U),a=o(j),l=Yt(n,a,s,t.clientX,t.clientY);e(ot,{mdownEvent:t,mdownXY:l,svgItemIdx:-1,mmoved:!1})}}),vo=h(null,(o,e,t)=>{const s=o(ot);if(!s)return;const n=o(U),a=o(j),l=o(kt);if(l){t.stopPropagation(),s.mmoved=!0;const r=o(st),c=o(Rt);if(s.mdownPt){const u=Yt(n,a,l,t.clientX,t.clientY),d=c?0:t.ctrlKey?r?0:3:r;u.x=parseFloat(u.x.toFixed(d)),u.y=parseFloat(u.y.toFixed(d));const p=o(D);e(p.doUpdatePointAtom,{pt:s.mdownPt,newXY:u,svgItemIdx:s.svgItemIdx})}else{const u=s.mdownXY,d=Yt(n,a,l,t.clientX,t.clientY);e(U,p=>[p[0]+u.x-d.x,p[1]+u.y-d.y,p[2],p[3]])}}}),xo=h(null,(o,e)=>{const t=o(ot);t&&(!t.mdownPt&&!t.mmoved&&e(io),e(ot,null))}),Ct=T(y.initialData.autoZoom,({get:o})=>y.save(o)),zt=T(y.initialData.ticks,({get:o})=>y.save(o)),st=T(y.initialData.precision,({get:o})=>y.save(o)),Rt=T(y.initialData.snapToGrid,({get:o})=>y.save(o)),St=T(y.initialData.showCPs,({get:o})=>y.save(o)),Xt=T(y.initialData.fillPath,({get:o})=>y.save(o)),_t=T(y.initialData.minifyOutput,({get:o})=>y.save(o)),bo=h(null,(o,e,t)=>{let s=o(et);const n=Gt(s);if(n){const a=o(st);s=n.asString(a,t),e(et,s)}e(_t,t)}),qt=h(o=>o(_t),(o,e,t)=>{const s=typeof t=="function"?t(o(_t)):t;e(bo,s)}),Nt=T(y.initialData.showGrid,({get:o})=>y.save(o)),Et=T(y.initialData.showTicks,({get:o})=>y.save(o)),Pe=T(y.initialData.openPanelPath,({get:o})=>y.save(o)),Ae=T(y.initialData.openPanelCmds,({get:o})=>y.save(o)),ke=T(y.initialData.openPanelOper,({get:o})=>y.save(o)),Ce=T(y.initialData.openPanelOpts,({get:o})=>y.save(o)),Qt=h(!0),Kt=h(o=>o(Qt),(o,e,t)=>{e(Qt,t),o(Qt)&&e(It,o(Mt))}),Mt=h(1),Re=h(o=>o(Mt),(o,e,t)=>{e(Mt,t),o(Kt)&&e(It,o(Mt))}),It=h(1),Jt=h(0),te=h(0),Se=h(1),go=h(null,(o,e)=>{}),wo=h(null,(o,e)=>{}),yo=h(null,(o,e)=>{}),Po=h(null,(o,e)=>{}),Ao=h(null,(o,e)=>{o(q).length&&e(q,"")}),ko=40,Co=h(!0),Lt=h([]),nt=h(0);h(null,(o,e,t)=>{let s=o(Lt),n=o(nt);s.length>=ko&&(s.shift(),n--),e(Lt,[...s,t]),e(nt,n++)});const Ro=(o,e)=>!!o.length&&e>0,So=(o,e)=>!!o.length&&e<o.length-1;h(null,(o,e,t)=>{let s=o(Lt),n=o(nt);Ro(s,n)&&(n--,e(nt,n),e(q,s[n]))});h(null,(o,e,t)=>{let s=o(Lt),n=o(nt);So(s,n)&&(n++,e(nt,n),e(q,s[n]))});h(null,(o,e,t)=>{e(Co,t)});function No(o,e=200,t=!0){if(e<=0)return o;let s=0,n,a,l;function r(){n&&(clearTimeout(n),n=void 0)}function c(){r(),o.apply(a,l)}function u(...d){const p=Date.now()-s;r(),p>e?(s=Date.now(),o.apply(this,d)):t&&(l=d,a=this,n=setTimeout(c,e))}return u}function Eo(){const[o]=B(D),[e,{width:t,height:s}]=le(),n=R.useRef(),a=A(Q),l=A(kt),r=A(mo),c=A(we),u=R.useCallback(No(p=>{c(p)}),[]),d=R.useCallback(p=>{if(!n.current)return;const{left:b,top:C}=n.current.getBoundingClientRect(),{clientX:I,clientY:$}=p;u({deltaY:p.deltaY,pt:{x:I-b,y:$-C}})},[n]);return R.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[parentRef]",n,t,s),l(n.current)},[n]),R.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[width, height]",n,t,s),a({w:t,h:s}),r()},[t,s]),R.useEffect(()=>{console.log("--------------- useContainerZoom.useEffect[svgEditRoot]",n,t,s),r()},[o]),{ref:e,parentRef:n,onWheel:d}}const Tt=(o,e,t)=>t?o?"#009cff":e?"#ff4343":"white":"#777c",Ne=(o,e,t)=>t?o?"#9c00ffa0":e?"#ffad40":"white":"#777c",Mo=(o,e,t)=>t?o?"#9c00ffa0":e?"#ffad40":"#fff5":"#777c";function Io({svgItemEdit:o,sectionEnabledAtom:e}){const t=g(o.standaloneStringAtom),s=g(e),n=g(j),a=A(ye),l=o.svgItemIdx,r=o.stateAtom,c=o.svgItem.targetLocation(),u=Pt(o.svgItem),d=u==="M",p=A(ft),b=g(r),C=b.activeRow&&b.activeEd===-1,I=b.hoverRow&&b.hoverEd===-1;return u==="Z"?null:m(H,{children:[i("path",{style:{stroke:Tt(b.activeRow,b.hoverRow,s),fill:"none"},strokeWidth:n,d:t}),(C||I)&&i("circle",{style:{stroke:"#9c00ff63",fill:Ne(C,I,s)},cx:c.x,cy:c.y,r:n*8,strokeWidth:n*16}),i("circle",{cx:c.x,cy:c.y,r:d?n*5:n*3,style:d?{stroke:Tt(b.activeRow,b.hoverRow,s),fill:"#fff3",strokeWidth:n*1.2}:{stroke:"transparent",fill:Tt(b.activeRow,b.hoverRow,s),strokeWidth:n*12},className:"cursor-pointer",onMouseEnter:()=>p({atom:r,states:{hoverRow:!0}}),onMouseLeave:()=>p({atom:r,states:{hoverRow:!1}}),onMouseDown:$=>{$.stopPropagation(),p({atom:r,states:{activeRow:!0}}),a({mdownEvent:$,mdownPt:c,svgItemIdx:l})},children:m("title",{children:["abs: ",K(c.x,2),",",K(c.y,2)]})})]})}function Lo({svgItemEdit:o,cpIdx:e,sectionEnabledAtom:t}){g(o.standaloneStringAtom);const s=g(t),n=g(j),a=A(ye),l=A(ft),r=o.svgItemIdx,c=o.stateAtom,d=o.svgItem.controlLocations()[e],p=g(c),b=p.activeRow&&p.activeEd===d.subIndex,C=p.hoverRow&&p.hoverEd===d.subIndex;return m(H,{children:[d.relations.map((I,$)=>i("line",{style:{stroke:Mo(p.activeRow,p.hoverRow,s),strokeWidth:n*1.5,strokeDasharray:`${n*3} ${n*5}`},x1:d.x,y1:d.y,x2:I.x,y2:I.y,strokeWidth:n},$)),(b||C)&&i("rect",{className:"cursor-pointer",style:{stroke:"#9c00ff63",fill:Ne(b,C,s)},x:d.x-8*n,y:d.y-8*n,width:n*16,height:n*16,strokeWidth:n*16}),i("rect",{x:d.x-3*n,y:d.y-3*n,width:n*6,height:n*6,strokeWidth:n*12,style:{stroke:"transparent",fill:Tt(p.activeRow,p.hoverRow,s)},className:"cursor-pointer",onMouseEnter:()=>{l({atom:c,states:{hoverRow:!0,hoverEd:d.subIndex}})},onMouseLeave:()=>{l({atom:c,states:{hoverRow:!1,hoverEd:-1}})},onMouseDown:I=>{I.stopPropagation(),l({atom:c,states:{activeRow:!0}}),a({mdownEvent:I,mdownPt:d,svgItemIdx:r})},children:m("title",{children:["abs: ",K(d.x,2),",",K(d.y,2)]})})]})}function To(o,e){const t=5*o[2]<=e;return{xGrid:t?Array(Math.ceil(o[2])+1).fill(null).map((s,n)=>Math.floor(o[0])+n):[],yGrid:t?Array(Math.ceil(o[3])+1).fill(null).map((s,n)=>Math.floor(o[1])+n):[]}}function Vo(){const o=g(U),e=g(Q),t=g(j),s=g(Et),n=g(zt);if(!g(Nt))return null;const l=To(o,e.w);return m("g",{className:"svg-ticks",children:[l.xGrid.map(r=>i("line",{x1:r,x2:r,y1:o[1],y2:o[1]+o[3],className:`${r===0?"stroke-[#f005]":r%n==0?"stroke-[#8888]":"stroke-[#8884]"}`,style:{strokeWidth:t}},`x${r}`)),l.yGrid.map(r=>i("line",{y1:r,y2:r,x1:o[0],x2:o[0]+o[2],className:`${r===0?"stroke-[#f005]":r%n==0?"stroke-[#8888]":"stroke-[#8884]"}`,style:{strokeWidth:t}},`y${r}`)),s&&m(H,{children:[l.xGrid.map(r=>i(R.Fragment,{children:r%n==0&&i("text",{className:"fill-[#744]",y:-5*t,x:r-5*t,style:{fontSize:t*10+"px",stroke:"white",strokeWidth:t*.2},children:r})},r)),l.yGrid.map(r=>i(R.Fragment,{children:r%n==0&&i("text",{className:"fill-[#744]",x:-5*t,y:r-5*t,style:{fontSize:t*10+"px",stroke:"white",strokeWidth:t*.2},children:r})},r))]})]})}function Bo(){const o=A(po),e=A(vo),t=A(xo),s=R.useCallback(l=>o(l),[]),n=R.useCallback(()=>t(),[]),a=R.useCallback(l=>e(l),[]);return{onMouseDown:s,onMouseUp:n,onMouseMove:a}}function Oo({children:o}){const e=g(Q),t=g(U),{onMouseDown:s,onMouseMove:n,onMouseUp:a}=Bo();return!e.w||!e.h?null:i("svg",{viewBox:t.join(" "),className:"bg-[#040d1c] select-none",onMouseDown:s,onMouseMove:n,onMouseUp:a,children:o})}function Do(){const o=g(D),e=g(o.completePathAtom),t=g(j),s=g(St),n=g(Xt),a=n||s&&n?"#94a3b830":"none";return n?i(H,{children:e&&i("path",{d:e,fill:a,stroke:"none",strokeWidth:t})}):null}function Fo(){const e=g(D).edits;return i("g",{className:"target-pts",children:e.map((t,s)=>i(Io,{svgItemEdit:t,sectionEnabledAtom:t.sectionEnabledAtom},s))})}function Zo(){const e=g(D).edits;return i("g",{className:"ctrl-pts",children:e.map((t,s)=>{const n=t.svgItem.controlLocations(),a=t.sectionEnabledAtom;return n.map((l,r)=>i(Lo,{svgItemEdit:t,cpIdx:r,sectionEnabledAtom:a},`${s}${r}`))})})}function Uo(){const{ref:o,parentRef:e,onWheel:t}=Eo(),s=g(St);return i("div",{ref:Ye(o,e),className:"absolute w-full h-full overflow-hidden",onWheel:t,children:m(Oo,{children:[i(Vo,{}),i(Do,{}),s&&m("g",{className:"pts",children:[i(Zo,{}),i(Fo,{})]})]})})}const $o=Fe;function Vt({toggle:o,children:e}){const[t,{height:s,top:n}]=le(),[a,l]=R.useState(!0),r=it({overflow:"hidden",height:o?s+n:0,config:a?{duration:0}:{mass:.2,tension:492,clamp:!0},onRest:()=>a&&l(!1)});return i("div",{children:i(lt.div,{style:r,children:i("div",{ref:t,children:e})})})}function Bt(s){var n=s,{children:o,open:e=!0}=n,t=V(n,["children","open"]);const a=it({open:e?1:0,config:{mass:.2,tension:492,clamp:!0}});return m("div",M(P({className:"px-2 py-1 bg-slate-500 text-stone-100 uppercase flex items-center justify-between select-none cursor-pointer font-ui"},t),{children:[o,i("svg",{className:"w-6 h-6 p-1 stroke-current stroke-[.6rem] fill-none",viewBox:"0 0 100 100",children:i(lt.path,{d:a.open.to({range:[0,.3,1],output:["M 50 13 L 80 43 L 50 72","M 50 13 L 50 42 L 50 72","M 80 35 L 50 65 L 20 35"]})})})]}))}function F(...o){return o.filter(Boolean).join(" ")}function Ho(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"currentColor",viewBox:"0 0 100 100"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M57.62 99.5H42.38a17.16 17.16 0 0 1-17.13-17.13V67.13a17.1 17.1 0 0 1 15.23-16.94v11.58a5.72 5.72 0 0 0-3.81 5.36v15.24a5.73 5.73 0 0 0 5.71 5.71h15.24a5.73 5.73 0 0 0 5.71-5.71V67.13a5.72 5.72 0 0 0-3.81-5.36V50.19a17.1 17.1 0 0 1 15.23 16.94v15.24A17.16 17.16 0 0 1 57.62 99.5Zm-1.91-66.63v34.26a5.71 5.71 0 1 1-11.42 0V32.87a5.71 5.71 0 1 1 11.42 0Zm3.81 16.94V38.23a5.72 5.72 0 0 0 3.81-5.36V17.63a5.73 5.73 0 0 0-5.71-5.71H42.38a5.73 5.73 0 0 0-5.71 5.71v15.24a5.72 5.72 0 0 0 3.81 5.36v11.58a17.1 17.1 0 0 1-15.23-16.94V17.63A17.16 17.16 0 0 1 42.38.5h15.24a17.16 17.16 0 0 1 17.13 17.13v15.24a17.1 17.1 0 0 1-15.23 16.94Z"})]}))}function jo(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M5.2 1.5h13.08l4.22 4.22V18.8a3.7 3.7 0 0 1-3.7 3.7H5.2a3.7 3.7 0 0 1-3.7-3.7V5.2a3.7 3.7 0 0 1 3.7-3.7ZM5.43 3A2.39 2.39 0 0 0 3 5.43v13.14A2.39 2.39 0 0 0 5.43 21h13.14A2.39 2.39 0 0 0 21 18.57v-12L17.48 3h-1.3v6H5.43Zm1.4 0v4.45h7.87V3ZM12 10.81a3.71 3.71 0 0 1 3.71 3.71A3.71 3.71 0 0 1 12 18.23a3.71 3.71 0 0 1-3.71-3.71A3.71 3.71 0 0 1 12 10.81Zm0 1.46a2.25 2.25 0 0 0-2.25 2.25A2.25 2.25 0 0 0 12 16.77a2.25 2.25 0 0 0 2.25-2.25A2.25 2.25 0 0 0 12 12.27Z"})]}))}function Go(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M 5.086 6.237 V 17.601 a 4.429 4.429 90 0 0 4.138 4.42 L 9.515 22.03 h 7.82 A 2.657 2.657 90 0 1 14.83 23.802 H 8.629 a 5.315 5.315 90 0 1 -5.315 -5.315 V 8.744 a 2.657 2.657 90 0 1 1.772 -2.507 z M 18.373 2.543 A 2.657 2.657 90 0 1 21.03 5.2 v 12.401 a 2.657 2.657 90 0 1 -2.657 2.657 h -8.858 A 2.657 2.657 90 0 1 6.858 17.601 v -12.401 A 2.657 2.657 90 0 1 9.515 2.543 h 8.858 z m 0 1.772 h -8.858 a 0.886 0.886 90 0 0 -0.886 0.886 v 12.401 a 0.886 0.886 90 0 0 0.886 0.886 h 8.858 a 0.886 0.886 90 0 0 0.886 -0.886 v -12.401 a 0.886 0.886 90 0 0 -0.886 -0.886 z"})]}))}function Wo(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.79h4.81V6.4h-1.6v14.41l-1.61 1.6H6.4l-1.61-1.6V6.4h-1.6V4.79H8v-1.6a1.6 1.6 0 0 1 1.6-1.6h4.8a1.6 1.6 0 0 1 1.6 1.6Zm-1.6-1.6H9.6v1.6h4.8Zm-8 17.62h11.2V6.4H6.4ZM9.6 8H8v11.21h1.6Zm1.6 0h1.6v11.21h-1.6Zm3.2 0H16v11.21h-1.6Z"})]}))}function Yo(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"none",strokeWidth:"1.5",stroke:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M2.8 2.3V15"}),i("path",{d:"M6.58 8.67h9.34c7.33 0 7.33 11.33 0 11.33h-13.34"}),i("path",{d:"m11.25 13.33-4.67-4.66L11.25 4"})]}))}function zo(o){const s=o,{title:e}=s,t=V(s,["title"]);return m("svg",M(P({fill:"none",strokeWidth:"1.5",stroke:"currentColor",viewBox:"0 0 24 24"},t),{children:[e&&i("title",{children:e}),i("path",{d:"M21.4 2.3V15"}),i("path",{d:"M17.42 8.67H8.08C.75 8.67.75 20 8.08 20h13.34"}),i("path",{d:"m12.75 13.33 4.67-4.66L12.75 4"})]}))}function Xo(){const[o,e]=B(q);return i("textarea",{className:"p-0.5 w-full bg-slate-200 text-xs font-mono",rows:5,spellCheck:!1,value:o,onChange:t=>e(t.target.value)})}function pt(a){var l=a,{scale:o=!0,disabled:e=!1,children:t,className:s}=l,n=V(l,["scale","disabled","children","className"]);return i("button",M(P({className:F("px-1 flex-1 py-0.5 mx-auto text-slate-700 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",e?"opacity-50":o?"active:scale-[.97]":"",s),disabled:e},n),{children:t}))}function _o(){const o=A(go),e=A(wo),t=A(yo),s=A(Po),n=A(Ao);return m(H,{children:[i(pt,{onClick:o,children:i(jo,{className:"w-5 h-5",title:"Save"})}),i(pt,{onClick:e,children:i(Go,{className:"w-5 h-5",title:"Copy"})}),i(pt,{onClick:t,disabled:!1,children:i(Yo,{className:"w-5 h-5",title:"Undo"})}),i(pt,{onClick:s,disabled:!0,children:i(zo,{className:"w-5 h-5",title:"Redo"})}),i(pt,{onClick:n,children:i(Wo,{className:"w-5 h-5 pt-0.5",title:"Clear path"})})]})}function qo(){const o=g(q);return i("div",{className:"text-xs text-slate-300",children:o.length})}function Qo(){const[o,e]=B(Pe);return m("div",{className:"",children:[i(Bt,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"flex-1",children:m("div",{className:"flex items-center justify-between",children:[i("div",{className:"pr-1 pt-1 ",children:"Path"}),i("div",{className:"flex items-center space-x-2",children:i(qo,{})})]})})}),i(Vt,{toggle:o,children:m("div",{className:"px-1.5 pt-1.5 pb-0.5 text-sm bg-slate-300 overflow-hidden",children:[m("div",{className:"flex justify-between",children:[i("div",{className:"pb-0.5 text-xs tracking-tighter self-end",children:"path"}),i("div",{className:"pb-2 flex space-x-1",children:i(_o,{})})]}),i("label",{children:i(Xo,{})})]})})]})}function Ee(o){return o.replace(/[\u066B,]/g,".").replace(/[^\-0-9.eE]/g,"")}function Ko(o){return o.replace(/[^0-9]/g,"")}function vt(o,e,t){const[s,n]=R.useState(""+o);R.useEffect(()=>n(""+o),[o]);function a(c){c=(t||Ee)(c),n(c);const u=+c;c&&!isNaN(u)&&e(u)}function l(){(!s||isNaN(+s))&&n(""+o)}function r(c){a(c.target.value)}return{value:s,onChange:r,onBlur:l}}function Jo({svgItemEdit:o}){const e=g(o.typeAtom),[t,s]=B(o.isRelAtom);return i("label",{className:F("flex-0 w-5 h-5 leading-3 text-xs flex items-center justify-center rounded-l-[0.2rem] text-center text-slate-900 cursor-pointer select-none",t?"bg-slate-400":"bg-slate-500"),onClick:()=>s(n=>!n),children:i("div",{children:e})})}function Me({tooltip:o,isFirstRow:e}){return i("div",{className:`mini-tooltip ${e?"tooltip-down":"tooltip-up"} text-xs text-slate-100 bg-slate-400 rounded z-10`,children:o})}function Ie({atom:o,isFirstRow:e,isActiveRow:t,isHoverRow:s,svgItemIdx:n,debugIdx:a,stateAtom:l}){const[r,c]=B(o),u=[n,me("a",a)],d=A(ft),p=R.useRef(null),b=Ft(p);return R.useEffect(()=>d({atom:l,states:{hoverEd:b?u[1]:-1}}),[b]),m("div",{className:"relative pb-1",children:[i("input",{type:"checkbox",className:"w-3 h-3 rounded text-slate-400 bg-slate-200 focus:ring-slate-500 focus:ring-offset-1 focus:ring-1 focus:outline-none",ref:p,checked:!!r,onChange:()=>c(r?0:1)}),t&&b&&i(Me,{tooltip:fe("a",a),isFirstRow:e})]})}function ts(o){const n=o,{atomA:e,atomB:t}=n,s=V(n,["atomA","atomB"]);return m("label",{className:"px-0.5 flex items-center space-x-0.5",children:[i(Ie,M(P({atom:e},s),{debugIdx:3})),i(Ie,M(P({atom:t},s),{debugIdx:4}))]})}function es({atom:o,isFirstRow:e,isActiveRow:t,isHoverRow:s,editorIdx:n,debugIdx:a,stateAtom:l,tooltip:r}){const[c,u]=B(o),$=vt(c,f=>u(f)),{onBlur:d}=$,p=V($,["onBlur"]),b=A(ft),C=R.useRef(null),I=Ft(C);return R.useEffect(()=>{b({atom:l,states:{hoverEd:I?n[1]:-1}})},[I]),m("label",{className:F("relative flex-1 flex w-[2.4rem] h-5 bg-slate-200 text-slate-900 focus-within:text-blue-500 rounded-tl-sm",`${t?"bg-blue-300":s?"bg-slate-400/40":""}`),ref:C,children:[eo,i("input",M(P({className:F("px-px pt-0.5 w-full h-full text-[10px] text-center tracking-tighter border-b-2","focus:border-blue-500 cursor-default focus:cursor-text focus:outline-none",t?"text-blue-900 bg-[#fff5] border-blue-300":s?"bg-slate-200 border-slate-400/40":"")},p),{onFocus:()=>b({atom:l,states:{activeEd:n[1]}}),onBlur:()=>(d(),b({atom:l,states:{activeEd:-1}}))})),t&&I&&i(Me,{tooltip:r,isFirstRow:e})]})}function os({svgItemEdit:o}){const e=o.svgItemIdx,t=o.stateAtom,s=g(o.typeAtom),n=A(ft),a=g(t),l=a.activeRow,r=a.hoverRow,c=R.useRef(null),u=Ft(c),[d,p]=R.useState(!1);return Ze(()=>p(u),100,[u]),R.useEffect(()=>{n({atom:t,states:{hoverRow:u}})},[d]),i(H,{children:i("div",{ref:c,className:`px-1.5 flex items-center justify-between ${l?"bg-blue-300":r?"bg-slate-400/40":""}`,onClick:()=>{n({atom:t,states:{activeRow:!0}})},onFocus:()=>{n({atom:t,states:{activeRow:!0}})},children:m("div",{className:"flex items-center justify-items-start font-mono space-x-0.5",children:[i(Jo,{svgItemEdit:o}),o.valueAtoms.map((b,C)=>{const I=Pt(o.svgItem)==="A"?C===3?0:C===4?2:1:1;return I===1?i(es,{atom:b,isFirstRow:e===0,isActiveRow:l,isHoverRow:r,editorIdx:[e,me(s,C)],debugIdx:C,stateAtom:t,tooltip:fe(s,C)},C):I===2?i(ts,{atomA:o.valueAtoms[3],atomB:b,isFirstRow:e===0,isActiveRow:l,isHoverRow:r,svgItemIdx:e,stateAtom:t},C):null})]})})})}function Le({tooltip:o,ignoreAtom:e}){const[t,s]=B(e);return i("div",{className:"w-3 h-3 bg-slate-500 border rounded-full flex items-center justify-center cursor-pointer",title:o,onClick:()=>s(n=>!n),children:i("div",{className:"w-2 h-2 bg-slate-200 rounded-full flex items-center justify-center",children:!t&&i("div",{className:"w-2 h-2 bg-slate-400 border rounded-full"})})})}function ss(){return m("div",{className:"px-2 text-xs flex items-center justify-between ",children:[i("div",{className:"",children:"Compound path"}),i(Le,{ignoreAtom:ge})]})}function ns({ignoreAtom:o}){return m("div",{className:"px-2 flex justify-between text-[.65rem] leading-3 ",children:[i("div",{className:"flex-1 mr-1 self-center h-px bg-gradient-to-r from-slate-500/10 via-slate-500/50 to-slate-500/10"}),i(Le,{ignoreAtom:o})]})}function as(){var s;const e=g(D).edits,t=((s=e[0])==null?void 0:s.section)!==-1;return m("div",{className:"my-1 py-0.5 space-y-0.5",children:[t&&i(ss,{}),e.map((n,a)=>m(R.Fragment,{children:[n.sectionIgonoreAtom&&i(ns,{ignoreAtom:n.sectionIgonoreAtom}),i(os,{svgItemEdit:n})]},a))]})}function is(){const[o,e]=B(Ae);return m("div",{className:"",children:[i(Bt,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Path Commands"})}),i(Vt,{toggle:o,children:i("div",{className:"text-sm bg-slate-300 overflow-hidden",children:i(as,{})})})]})}function xt({label:o,overlay:e,className:t,atom:s,cleanup:n=Ee,onEnter:a,style:l}){const[r,c]=B(s),u=vt(r,p=>c(p),n),d=R.useRef(null);return re("Enter",()=>a&&a(),{target:d.current},[d.current]),m("label",{className:F("relative w-1/3 rounded-tl-sm overflow-hidden focus-within:text-blue-500",t),style:l,children:[i("div",{className:"px-1 -mt-1 absolute text-[.6rem] select-none pointer-events-none",children:o}),e,i("input",P({className:"px-1 pt-3 h-8 w-full border-b-2 text-slate-900 focus:border-blue-500 bg-slate-200 focus:outline-none",ref:d},u))]})}function ls(){const[o,e]=B(Kt);return i(Ho,{className:F("absolute right-0 top-1/2 -translate-y-1/2 w-5 h-5 cursor-pointer",`${o?"fill-slate-700":"fill-slate-400 stroke-slate-400"}`),strokeWidth:2,onClick:()=>e(t=>!t),title:"Lock/Unlock x and y scales",onMouseDown:t=>t.preventDefault()})}function bt(n){var a=n,{scale:o=!0,children:e,className:t}=a,s=V(a,["scale","children","className"]);return i("button",M(P({className:F("px-1 flex-1 py-0.5 mx-auto text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",`${o?"active:scale-[.97]":""}`,t)},s),{children:e}))}function rs(){const o=g(Kt),e=A(ro);return m("div",{className:"my-1 flex space-x-1",children:[i(xt,{atom:Re,label:o?"Uniform scale":"Scale X",overlay:i(ls,{}),className:"flex-none",onEnter:e}),!o&&i(xt,{atom:It,label:"Scale Y",className:"flex-none",onEnter:e}),i(bt,{title:"Scale all commands (or selected sub-paths)",onClick:e,style:{transition:"flex-basis .2s",flexBasis:o?"100%":"30%"},children:"Scale"})]})}function cs(){const o=A(co);return m("div",{className:"my-1 flex space-x-1",children:[i(xt,{atom:Jt,label:"Translate X",onEnter:o}),i(xt,{atom:te,label:"Translate Y",onEnter:o}),i(bt,{title:"Translate all commands (or selected sub-paths)",onClick:o,children:"Translate"})]})}function us(){const o=A(uo),e=A(ho);return m("div",{className:"my-1 flex space-x-1",children:[i(xt,{atom:Se,label:"Number of decimals",cleanup:Ko}),i(bt,{title:"Round all path numbers",onClick:o,children:"Round"}),i(bt,{title:"Convert all commands (or selected sub-paths) to relative",onClick:()=>e(!0),children:"To rel"}),i(bt,{title:"Convert all commands (or selected sub-paths) to absolute",onClick:()=>e(!1),children:"To abs"})]})}function ds(){const[o,e]=B(ke);return m("div",{className:"",children:[i(Bt,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Path Operations"})}),i(Vt,{toggle:o,children:m("div",{className:"px-1.5 py-0.5 text-sm bg-slate-300 overflow-hidden",children:[i(rs,{}),i(cs,{}),i(us,{})]})})]})}function hs(t){var s=t,{locked:o}=s,e=V(s,["locked"]);return m("svg",M(P({viewBox:"0 0 11 16.5"},e),{children:[i("path",{style:{transition:"all ease-out .1s",transform:o?"":"translateY(-2px)"},d:"m5.5008594 2.0664843c-1.9 0-3.4394531 1.5000782-3.4394531 3.3300782v1.2734375h1.3085937v-1.2734375c0-1.14.9508594-2.0605469 2.1308594-2.0605469s2.1308594.9205469 2.1308594 2.0605469v2.4860889h1.2988282v-2.4860889c.01-1.83-1.5296876-3.3300782-3.4296876-3.3300782z"}),i("path",{style:{transition:"all ease-out .1s",transform:o?"":"translateY(.5px)"},d:"m7.6308594 5.25c.0000227.011025 0 .022153 0 .033203v1.3867189h-6.2597656c-.74000005 0-1.36914067.6000781-1.36914067 1.3300781v6.669922c0 .73.61890625 1.330078 1.37890627 1.330078h8.25c.7499996 0 1.3710936-.600078 1.3710936-1.330078v-6.669922c0-.7268371-.615604-1.3249101-1.3710936-1.3300781h-.7011719v-1.3867188c.0000215-.011025-.0000072-.022181 0-.033203zm-6.25 2.75h8.25l-.00977 6.669922h-8.24023zm4.1210937 2c-.750001 0-1.3808594.600078-1.3808593 1.330078 0 .74.6208583 1.339844 1.3808593 1.339844.76 0 1.3789063-.599844 1.3789063-1.339844 0-.73-.6289063-1.330078-1.3789063-1.330078z"})]}))}function fs(n){var a=n,{scale:o=!0,children:e,className:t}=a,s=V(a,["scale","children","className"]);return i("button",M(P({className:F("px-1 flex-1 py-0.5 mx-auto text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/40 border rounded-sm select-none",`${o?"active:scale-[.97]":""}`,t)},s),{children:e}))}function Ot({label:o,tooltip:e,idx:t}){const[s,n]=B(fo),a=s.map(r=>parseFloat(r.toFixed(3))),l=vt(a[t],r=>{let c=[...a];c[t]=r,t===2&&(c[3]=null),t===3&&(c[2]=null),n(c)});return m("label",{className:"relative text-xs select-none",title:e,children:[i("div",{className:"absolute left-1.5 text-[.6rem] text-slate-900/60",children:o}),i("input",P({className:"px-1 pt-3 w-14 h-8 text-xs text-slate-900 bg-slate-200 border-slate-300 rounded border focus:outline-none shadow-sm shadow-slate-800/30"},l))]})}function ms(){const[o,e]=B(Ct);return m("div",{className:"flex space-x-1.5",children:[i(Ot,{label:"x",tooltip:"view box x",idx:0}),i(Ot,{label:"y",tooltip:"view box y",idx:1}),i(Ot,{label:"width",tooltip:"view box width",idx:2}),i(Ot,{label:"height",tooltip:"view box height",idx:3}),i(fs,{onClick:()=>{e(t=>!t)},scale:!1,title:o?"viewBox is unlocked":"viewBox is locked",children:i(hs,{className:"w-5 h-5 mx-0.5 text-slate-700 fill-current",locked:!o})})]})}function ee({label:o,title:e,atom:t,value:s,className:n=""}){const a=A(t);return i("button",{className:F("px-1 pb-px h-8 text-xs text-slate-900 bg-slate-400 border-slate-500 shadow-sm shadow-slate-800/50 active:scale-[.97] select-none",n),onClick:()=>a(s),title:e,children:o})}function ps({className:o}){const e=A(At);return re(t=>t.altKey&&(t.key==="1"||t.key==="2"||t.key==="3"),t=>{t.preventDefault(),e(t.key==="1"?10:t.key==="3"?-10:0)}),m("div",{className:F("flex items-center",o),children:[i(ee,{label:"-",title:"Zoom Out (Alt+1)",atom:At,value:10,className:"rounded-l border w-8"}),i(ee,{label:"Zoom to Fit",title:"Zoom to Fit (Alt+2)",atom:At,value:0,className:"border-t border-b px-2"}),i(ee,{label:"+",title:"Zoom In (Alt+3)",atom:At,value:-10,className:"rounded-r border w-8"})]})}function at(a){var l=a,{label:o,tooltip:e,atom:t,className:s}=l,n=V(l,["label","tooltip","atom","className"]);const[r,c]=B(t);return m("label",M(P({className:F("w-min h-6 whitespace-nowrap flex items-center text-xs space-x-1.5 select-none",s),title:e},n),{children:[i("input",{type:"checkbox",className:"rounded text-slate-500 bg-slate-300 focus:ring-slate-500 focus:ring-offset-1",checked:r,onChange:()=>c(u=>!u)}),i("div",{className:"",children:o})]}))}const oe={easing:Ue.easeInOutQuart,duration:200};function vs(t){var s=t,{className:o}=s,e=V(s,["className"]);const n=g(Rt),[a,l]=B(st),r=vt(a,u=>l(u)),c=it({opacity:n?0:1,config:oe});return i(lt.label,M(P({style:c,className:F("flex items-center text-xs space-x-1 select-none",o)},e),{children:!n&&m(H,{children:[i("div",{className:"",children:"Precision"}),i("input",P({className:"w-8 h-[1.375rem] text-xs text-center text-slate-900 bg-slate-200 border-slate-300 rounded border focus:outline-none shadow-sm shadow-slate-800/30",title:"Point precision"},r))]})}))}function xs(t){var s=t,{className:o}=s,e=V(s,["className"]);const n=g(Nt),a=g(Et),[l,r]=B(zt),c=vt(l,p=>r(p)),u=it({opacity:n?1:0,config:oe}),d=it({opacity:a?1:0,config:oe});return i(H,{children:i(lt.div,M(P({style:u,className:F("flex justify-between",o)},e),{children:n&&m(H,{children:[i(at,{label:"Ticks",tooltip:"Show ticks",atom:Et}),i(lt.div,{style:d,className:"flex items-center ",children:a&&i("input",P({className:"w-8 h-[1.375rem] text-xs text-center text-slate-900 bg-slate-200 border-slate-300 shadow-slate-800/30 rounded border focus:outline-none shadow-sm focus:ring-0",title:"Ticks interval"},c))})]})}))})}function bs(){return i("div",{className:"px-1.5 pt-1 pb-3 bg-slate-400/40 rounded flex items-center space-x-2",children:m("div",{className:"flex flex-col",children:[i("div",{className:"text-xs",children:"viewbox"}),i(ms,{}),i(ps,{className:"mt-3"}),m("div",{className:"mt-2 grid grid-cols-[1fr,minmax(6rem,min-content)]",children:[i(at,{label:"Snap to grid",tooltip:"Snap dragged points to grid",atom:Rt}),i(vs,{className:"justify-end"}),i(at,{label:"Show grid",tooltip:"Show grid",atom:Nt}),i(xs,{className:"justify-end"}),i(at,{label:"Show point contols",tooltip:"Show SVG point contols",atom:St}),i(at,{label:"Fill path",tooltip:"Fill path",className:"",atom:Xt}),i(at,{label:"Minify output",tooltip:"Minify output path",className:"col-span-full",atom:qt})]})]})})}function gs(){const[o,e]=B(Ce);return m("div",{className:"",children:[i(Bt,{open:o,onClick:()=>e(t=>!t),children:i("div",{className:"pr-1 pt-1 flex-1",children:"Options"})}),i(Vt,{toggle:o,children:i("div",{className:"text-sm bg-slate-300 overflow-hidden",children:i(bs,{})})})]})}function ws(){return i("div",{className:"py-1 w-[300px] max-w-[300px] flex flex-col space-y-1 bg-slate-600 border border-slate-900",children:i("div",{className:"flex-1 min-w-0 min-h-0",children:m($o,{className:"overflow-auto w-full h-full",children:[i(Qo,{}),i(is,{}),i(ds,{}),i(gs,{})]})})})}function ys(){return i("div",{className:"flex-1 relative",children:i(Uo,{})})}function Ps(){return m(H,{children:[i(ze,{}),m("div",{className:"h-screen flex overflow-hidden",children:[i(ws,{}),i(ys,{})]})]})}$e.render(i(R.StrictMode,{children:i(Ps,{})}),document.getElementById("root"));
